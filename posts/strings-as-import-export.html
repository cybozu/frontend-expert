<!DOCTYPE html><html lang="ja"><head><title>ãªãœ ES2022 ã§æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã‹ | ã‚µã‚¤ãƒœã‚¦ã‚º ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ </title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="ES2022 ã«å«ã¾ã‚Œã‚‹äºˆå®šã®ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ã¦ import/export ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ ECMAScript ã®ä»•æ§˜å¤‰æ›´ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™"/><link rel="icon" type="image/png" sizes="32x32" href="/frontend-expert/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/frontend-expert/icons/favicon-16x16.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="ãªãœ ES2022 ã§æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã‹ | ã‚µã‚¤ãƒœã‚¦ã‚º ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ "/><meta name="twitter:description" content="ES2022 ã«å«ã¾ã‚Œã‚‹äºˆå®šã®ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ã¦ import/export ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ ECMAScript ã®ä»•æ§˜å¤‰æ›´ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™"/><meta name="twitter:image " content="https://cybozu.github.io/frontend-expert/ogp/posts/strings-as-import-export.jpg"/><meta property="og:type" content="article"/><meta property="og:title" content="ãªãœ ES2022 ã§æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã‹ | ã‚µã‚¤ãƒœã‚¦ã‚º ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ "/><meta property="og:site_name" content="ã‚µã‚¤ãƒœã‚¦ã‚º ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãƒãƒ¼ãƒ "/><meta property="og:description" content="ES2022 ã«å«ã¾ã‚Œã‚‹äºˆå®šã®ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ã¦ import/export ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ ECMAScript ã®ä»•æ§˜å¤‰æ›´ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™"/><meta property="og:image" content="https://cybozu.github.io/frontend-expert/ogp/posts/strings-as-import-export.jpg"/><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/frontend-expert/feeds/atom.xml"/><meta name="next-head-count" content="16"/><link rel="preload" href="/frontend-expert/_next/static/css/d15332f741e09aa2.css" as="style"/><link rel="stylesheet" href="/frontend-expert/_next/static/css/d15332f741e09aa2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/frontend-expert/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/frontend-expert/_next/static/chunks/webpack-b0f44a7ac00bf3cb.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/framework-742985a85518e1e1.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/main-242b1a0e32bf923c.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/_app-ff35bec35d2bc313.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/a9a7754c-e3ac32efe6bdfc47.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/247-c193c27d2f31cb66.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/814-0ba85a11642c687f.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/871-c552fdc3653c7625.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/836-a8ade638b2eac21f.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/posts/%5Bslug%5D-e05ee5cfb4acd47b.js" defer=""></script><script src="/frontend-expert/_next/static/LMNvqFdcvV_DKsS9lLhgF/_buildManifest.js" defer=""></script><script src="/frontend-expert/_next/static/LMNvqFdcvV_DKsS9lLhgF/_ssgManifest.js" defer=""></script><script src="/frontend-expert/_next/static/LMNvqFdcvV_DKsS9lLhgF/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css ruypru">.css-ruypru{width:100%;}.css-ruypru .main{max-width:100%;background-color:white;}.css-ruypru .main .content{margin:0 auto;max-width:var(--content-width);box-sizing:border-box;padding:1rem 1rem 1.5rem;min-height:400px;}</style><div class="css-ruypru"><style data-emotion="css 14l5li6">.css-14l5li6{padding:1.2rem 0 1rem;background-color:var(--primary-color);}.css-14l5li6 .content{max-width:var(--content-width);margin:0 auto;padding:0 1rem;box-sizing:border-box;}.css-14l5li6 h1{font-size:1.6rem;}.css-14l5li6 .navigation ul{margin:0;list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-14l5li6 .navigation ul li{padding:0.2rem 0;font-size:1rem;}.css-14l5li6 .navigation ul li:not(:last-child)::after{content:"/";margin:0 0.4rem;color:var(--light-font-color);}.css-14l5li6 a{color:var(--light-font-color);}</style><header class="css-14l5li6"><div class="content"><h1><a href="/frontend-expert"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27200%27%20height=%2778%27/%3e"/></span><img alt="Frontend Expert Team Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Frontend Expert Team Logo" src="/frontend-expert/logo.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></h1><nav class="navigation"><ul><li><a href="/frontend-expert/members">Members</a></li><li><a href="/frontend-expert/posts">Posts</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/list/front_end_expert.html" target="_blank" rel="noopener noreferrer">Recruiting</a></li></ul></nav></div></header><main class="main"><div class="content"><style data-emotion="css wv9xy9">.css-wv9xy9{margin-left:0;margin-right:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.8rem;line-height:1.5;}</style><h2 class="css-wv9xy9"><span style="word-break: keep-all; overflow-wrap: break-word;">ãªãœ ES2022 ã§<wbr>æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’<wbr>ä½¿ã£ãŸ<wbr> import/export ãŒ<wbr>ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã‹</span></h2><style data-emotion="css 30b2xt">.css-30b2xt{margin-top:0.6rem;font-size:0.8rem;font-weight:bold;}</style><div class="css-30b2xt">Published on<!-- --> <!-- --><time dateTime="2021-12-06" itemProp="datePublished">2021-12-06</time></div><style data-emotion="css 1yefgjn">.css-1yefgjn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1.5rem 0;}.css-1yefgjn .editors{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:0.4rem;}.css-1yefgjn .author+.editors{margin-left:16px;padding-left:16px;border-left:1px solid #d3d3d3;}</style><div class="css-1yefgjn"><div class="author"><style data-emotion="css jzce96">.css-jzce96{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:60px;color:#333;}.css-jzce96 .label{width:100%;font-size:0.6rem;font-weight:bold;}.css-jzce96 .memberIcon img{border-radius:4px;}.css-jzce96 a{color:inherit;}.css-jzce96 .icon{display:block;}.css-jzce96 .icon svg{color:#444;width:18px;height:18px;font-size:1rem;}.css-jzce96 .authorName{font-size:0.9rem;line-height:1;margin-top:4px;}.css-jzce96 .authorInfo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:0.6rem;font-size:1rem;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.css-jzce96 .authorInfo ul{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:4px;}.css-jzce96 .authorInfo ul li:not(:last-of-type){margin-right:8px;}</style><div class="css-jzce96"><a class="memberIcon" href="/frontend-expert/members/sosukesuzuki"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:60px;height:60px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="sosukesuzuki" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="sosukesuzuki" src="/frontend-expert//member-icons/sosukesuzuki.jpg" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a><div class="authorInfo"><div class="label">Author</div><span class="authorName"><a href="/frontend-expert/members/sosukesuzuki">sosukesuzuki</a></span><ul><li><a href="https://twitter.com/__sosukesuzuki" aria-label="twitter" class="icon" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="18" height="18"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li><a href="https://github.com/sosukesuzuki" aria-label="github" class="icon" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-alt" class="svg-inline--fa fa-github-alt fa-w-15 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512" width="18" height="18"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg></a></li></ul></div></div></div></div><style data-emotion="css 1nkwq6x">.css-1nkwq6x{margin:0 auto;}.css-1nkwq6x h1{margin-left:0;margin-right:0;margin-top:1.75rem;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}.css-1nkwq6x h2{margin-top:1rem;margin-bottom:1rem;font-size:1.6rem;border-bottom:1px solid #ccc;padding-bottom:0.2rem;}.css-1nkwq6x h3{margin-top:1rem;font-size:1.4rem;}.css-1nkwq6x h4{margin-top:1rem;font-size:1.2rem;}.css-1nkwq6x h5{margin-top:1rem;font-size:1.4rem;}.css-1nkwq6x h6{margin-top:1rem;font-size:1.2rem;}.css-1nkwq6x table{width:100%;font-size:1rem;}.css-1nkwq6x img{display:block;margin:0.5rem auto 0;max-width:80%;height:auto;}.css-1nkwq6x p{margin-top:0.8rem;line-height:1.75;font-size:1rem;}.css-1nkwq6x li{margin-left:1rem;font-size:1rem;}.css-1nkwq6x ul{margin-top:1.2rem;margin-bottom:1.2rem;box-sizing:border-box;line-height:2;margin-left:1rem;}.css-1nkwq6x ul ul{margin:0;}.css-1nkwq6x ol{margin-top:1rem;box-sizing:border-box;}.css-1nkwq6x hr{margin-top:1rem;}.css-1nkwq6x a{word-wrap:break-word;}.css-1nkwq6x code:not([class*="language-"]){padding:0.2em 0.4em;margin:0;font-size:0.8rem;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;}.css-1nkwq6x .post table{margin-top:1rem;display:block;width:100%;overflow:auto;}.css-1nkwq6x .post table th{font-weight:600;}.css-1nkwq6x .post table td,.css-1nkwq6x .post table th{padding:6px 13px;border:1px solid #dfe2e5;}.css-1nkwq6x .post table tr{border-top:1px solid #c6cbd1;}.css-1nkwq6x blockquote{padding:0 1em;color:#777;border-left:0.25em solid #ddd;}</style><div class="css-1nkwq6x"><div><p>11 æœˆ 11 æ—¥ã«ã€ä»¥å‰ã‹ã‚‰ä¸€éƒ¨ã§æ³¨ç›®ã•ã‚Œã¦ã„ãŸ<a href="https://github.com/tc39/ecma262/pull/2154">ã‚ã‚‹ Pull Request</a> ãŒ <a href="https://github.com/tc39/ecma262">tc39/ecma262</a> ã«ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸã€‚</p>
<p>ã“ã® Pull Request ãŒãƒãƒ¼ã‚¸ã•ã‚ŒãŸã“ã¨ã§ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚</p>
<p>ã“ã®ä»•æ§˜å¤‰æ›´ã¯ãƒ—ãƒ­ãƒãƒ¼ã‚¶ãƒ«ã¨ã„ã†å½¢ã§æ‰±ã‚ã‚Œã¦ã¯ã„ã¾ã›ã‚“ãŒã€æ§‹æ–‡ä¸Šã®å½±éŸ¿ãŒã‚ã‚‹ã®ã§ã€JavaScript ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦çŸ¥ã£ã¦ãŠãã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>æ¦‚è¦</h2>
<p>ã¾ãšå…·ä½“ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚</p>
<p>ä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã€æ¬¡ã®ã‚ˆã†ã« import/export ã™ã‚‹éš›ã®åå‰ã¨ã—ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"foo"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> foo <span class="token keyword module">as</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token keyword module">as</span> foo <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"./module.js"</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo</span>
</code></pre></div>
<p>åŸºæœ¬çš„ã«ã¯ã“ã‚Œã ã‘ã§ã™ã€‚</p>
<h2>è©³è§£</h2>
<p>ã“ã“ã‹ã‚‰ã¯ä»•æ§˜ä¸Šã®ç”¨èªã‚’ä½¿ã£ã¦è§£èª¬ã‚’ã—ã¾ã™ã€‚</p>
<p>ã“ã®å¤‰æ›´ãŒå…¥ã‚‹å‰ã® ECMAScript ã§ã¯ <a href="https://tc39.es/ecma262/#prod-ImportSpecifier"><code>ImportSpecifier</code></a> ã§ <code>as</code> ã‚’ä½¿ã†å ´åˆ <code>as</code> ã®å·¦å´ã¯ <a href="https://tc39.es/ecma262/#prod-IdentifierName"><code>IdentifierName</code></a> ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã§ã—ãŸã€‚
ã¾ãŸ <a href="https://tc39.es/ecma262/#prod-ExportSpecifier"><code>ExportSpecifier</code></a> ã¯ã€å˜ä¸€ã® <code>IdentifierName</code> ã‚‚ã—ãã¯ã€<code>as</code> ã‚’ä½¿ã†å ´åˆã¯ <code>as</code> ã®å·¦å´ã¨å³å´ã¯ä¸¡æ–¹ã¨ã‚‚ <code>IdentifierName</code> ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã§ã—ãŸã€‚</p>
<p>ä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã€æ–°ãŸã« <a href="https://tc39.es/ecma262/#prod-ModuleExportName"><code>ModuleExportName</code></a> ã¨ã„ã†æ§‹æ–‡ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚<code>ModuleExportName</code> ã¯ã€<code>IdentifierName</code> ã‚‚ã—ãã¯ <a href="https://tc39.es/ecma262/#prod-StringLiteral"><code>StringLiteral</code></a> ã®å½¢ã‚’ã¨ã‚Šã¾ã™ã€‚
ãŸã¨ãˆã°ã€è­˜åˆ¥å­ <code>foo</code> ã‚„ æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ« <code>"ğŸ˜ƒ hey hey"</code> ã¯ <code>ModuleExportName</code> ã§ã™ã€‚</p>
<p>ãã—ã¦ã€<code>ImportSpecifier</code> ã§ <code>as</code> ã‚’ä½¿ã†å ´åˆ <code>as</code> ã®å·¦å´ã¯ <code>ModuleExportName</code> ã®å½¢ã‚’ã¨ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€æ¬¡ã®ä¾‹ã® <code>import</code> æ–‡ã¯ã™ã¹ã¦æ§‹æ–‡ã¨ã—ã¦å¦¥å½“ã§ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> foo <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> foo <span class="token keyword module">as</span> bar <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token keyword module">as</span> baz <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
</code></pre></div>
<p><code>ExportSpecifier</code> ã¯ã€å˜ä¸€ã® <code>ModuleExportName</code> ã‚‚ã—ãã¯ã€ <code>as</code> ã‚’ä½¿ã†å ´åˆ <code>as</code> ã®å·¦å´ã¨å³å´ã¯ä¸¡æ–¹ã¨ã‚‚ <code>ModuleExportName</code> ã®å½¢ã‚’ã¨ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€æ¬¡ã®ä¾‹ã® <code>export</code> æ–‡ã¯ã™ã¹ã¦æ§‹æ–‡ã¨ã—ã¦å¦¥å½“ã§ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token exports"><span class="token punctuation">{</span> foo <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token exports"><span class="token punctuation">{</span> foo <span class="token keyword module">as</span> foo <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> foo <span class="token keyword module">as</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token keyword module">as</span> foo <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token keyword module">as</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>ãŸã ã— <code>ExportSpecifier</code> ã® <code>ModuleExportName</code> ã‚’ <code>StringLiteral</code> ã«ã§ãã‚‹ã®ã¯ã€ãã® <code>ExportSpecifier</code> ã‚’å«ã‚€ <a href="https://tc39.es/ecma262/#prod-ExportDeclaration"><code>ExportDeclaration</code></a> ã« <a href="https://tc39.es/ecma262/#prod-FromClause"><code>FromClause</code></a> ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ã§ã™ã€‚</p>
<p>ãŸã¨ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ <code>ExportDeclaration</code> ã« <code>FromClause</code> ãŒå­˜åœ¨ã—ãªã„ã®ã§ <code>ExportSpecifier</code> ã§ <code>StringLiteral</code> ã‚’ä½¿ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</p>
<!-- prettier-ignore -->
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// ã§ããªã„</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>ä¸€æ–¹ã§ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ <code>FromClause</code> ãŒå­˜åœ¨ã™ã‚‹ã®ã§ã€<code>ExportSpecifier</code> ã§ <code>StringLiteral</code> ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// ã§ãã‚‹</span>
<span class="token keyword module">export</span> <span class="token punctuation">{</span> <span class="token string">"ğŸ˜ƒ hey hey"</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"mod"</span><span class="token punctuation">;</span>
</code></pre></div>
<h2>æ–‡å­—åˆ—ã®åˆ¶ç´„</h2>
<p><code>StringLiteral</code> ã¯é€šå¸¸ã® JavaScript ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã§ã™ã€‚ãŸã¨ãˆã° <code>"foo"</code> ã¨ã‹ <code>"bar"</code> ã¿ãŸã„ãªå½¢ã‚’ã—ãŸã‚‚ã®ã§ã™ã€‚</p>
<p><code>ModuleExportName</code> ã¯ <code>StringLiteral</code> ã‚’å«ã‚€ã®ã§ã€å…¨ã¦ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ <code>ModuleExportName</code> ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã¿ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯å°‘ã€…ç•°ãªã‚Šã¾ã™ã€‚<code>ModuleExportName</code> ã¨ã—ã¦ä½¿ãˆã‚‹ <code>StringLiteral</code> ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p><strong><code>ModuleExportName</code> ã¨ã—ã¦ä½¿ãˆã‚‹ <code>StringLiteral</code> ã¯ã€<a href="https://www.unicode.org/glossary/#well_formed_code_unit_sequence">Well-Formed Code Unit Sequence</a> ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚</strong>
ã“ã®ã“ã¨ã¯ã€<a href="https://tc39.es/ecma262/#sec-module-semantics">Module Semantics</a> ã® Eary Errros å†…ã® <a href="https://tc39.es/ecma262/#_ref_6583">https://tc39.es/ecma262/#_ref_6583</a> ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<h3>Well-Formed Code Unit Sequence ã¨ã¯</h3>
<p>JavaScript ã®æ–‡å­—åˆ—ã¯ UTF-16 ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€å®Ÿéš›ã«ã¯ JavaScript ã®æ–‡å­—åˆ—ã¨ã„ã†ã®ã¯ 16 ãƒ“ãƒƒãƒˆã®æ•´æ•°ã§è¡¨ç¾ã•ã‚Œã‚‹ Unicode ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸¦ã³ã§ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>UTF-16 ã§ã¯åŸºæœ¬çš„ã« 1 æ–‡å­—ã«ã¤ã 16 ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€Unicode ã® BMP(åŸºæœ¬å¤šè¨€èªé¢)ã«åã¾ã‚‰ãªã„æ–‡å­—ã¯ 16 ãƒ“ãƒƒãƒˆã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã‚’äºŒã¤ä¸¦ã¹ãŸãƒšã‚¢ã§è¡¨ç¾ã—ã¾ã™ã€‚</p>
<p>ãŸã¨ãˆã°ã€ã²ã‚‰ãŒãªã® <code>ã‚</code> ã¯ BMP ã«å«ã¾ã‚Œã¦ãŠã‚Šã€ä¸€ã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆ(<code>0x3042</code>)ã§è¡¨ã•ã‚Œã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"\u3042"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ã‚</span>
</code></pre></div>
<p>ä¸€æ–¹ã§ã€<code>ğ ®Ÿ</code>(<code>å±</code> ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„) ã¯ BMP ã«å«ã¾ã‚Œãªã„ã®ã§ã€äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆ(<code>0xD842</code> ã¨ <code>0xDF9F</code>)ã§è¡¨ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ãƒšã‚¢ã‚’ã€ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã¨ã„ã„ã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"\uD842\uDF9F"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğ ®Ÿ</span>
</code></pre></div>
<p>å‰è¿°ã®ã¨ãŠã‚Šã€JavaScript ã®æ–‡å­—åˆ—ã¯ 16 ãƒ“ãƒƒãƒˆã®æ•´æ•°ã§è¡¨ç¾ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸¦ã³ã§ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€<code>ğ ®Ÿ</code> ã‚’æ§‹æˆã™ã‚‹äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã§ã‚ã‚‹ <code>0xD842</code> ã¨ <code>0xDF9F</code> ã®ã†ã¡ä¸€ã¤ã ã‘ã‚’å«ã‚€æ–‡å­—åˆ—ã‚‚ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">"\uD842"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>ã—ã‹ã—ã€<code>0xD842</code> å˜ä½“ã«å¯¾å¿œã™ã‚‹æ–‡å­—ã¯ Unicode ã«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚</p>
<p>ã“ã®ã‚ˆã†ãªã€<strong>å¯¾ã«ãªã£ã¦ã„ãªã„ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã‚’å«ã‚€ã‚ˆã†ãªæ–‡å­—åˆ—ã¯ Well-Formed Code Unit Sequence ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</strong></p>
<p>é€†ã«ã€å¯¾ã«ãªã£ã¦ã„ãªã„ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã‚’è¨±å®¹ã—ãªã„ã‚ˆã†ãªæ–‡å­—åˆ—ã‚’ <strong>Well-Formed Code Unit Sequence</strong> ã¨ã„ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€å¤§é›‘æŠŠã«ã„ãˆã°ã€Œã¡ã‚ƒã‚“ã¨æ–‡å­—ã«ãªã£ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã§æ§‹æˆã•ã‚ŒãŸæ–‡å­—åˆ—ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ã¡ãªã¿ã«ã€ã“ã®ã‚ˆã†ãª Well-Formed ãªæ–‡å­—åˆ—ã¯ WebIDL ã§ã¯ <a href="https://developer.mozilla.org/ja/docs/Web/API/USVString">USVString</a> ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚</p>
<h3>æ–°ã—ã„ Abstract Operation <code>IsStringWellFormedUnicode</code></h3>
<p>ã“ã®ä»•æ§˜ã®å¤‰æ›´ã«ä¼´ã£ã¦ã€<a href="https://tc39.es/ecma262/#sec-isstringwellformedunicode"><code>IsStringWellFormedUnicode</code></a> ã¨ã„ã†æ–°ã—ã„ Abstract Operation ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</p>
<p>ã“ã® Abstract Operation ã¯ã€å¼•æ•°ã®æ–‡å­—åˆ—ãŒ Well-Formed Code Unit Sequence ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚</p>
<p>å‰è¿°ã—ãŸ <code>ModuleExportName</code> ã®ãŸã‚ã® Early Errors ã§ã¯ã€ã“ã® <code>IsStringWellFormedUnicode</code> Abstract Operation ã‚’ä½¿ã£ã¦ <code>StringLiteral</code> ãŒ Well-Formed Code Unit Sequence ã‹ã©ã†ã‹ã®åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚ãã—ã¦ã‚‚ã— Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã° Syntax Error ã«ãªã‚Šã¾ã™ã€‚</p>
<h2>ä»•æ§˜å¤‰æ›´ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³</h2>
<p>å®Ÿã¯ã“ã®ä»•æ§˜ã®å¤‰æ›´ã¯ã€ä»Šã® Web ã®ä»•æ§˜ã§ã¯ã»ã¨ã‚“ã©å½¹ã«ç«‹ã¤ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ã“ã®å¤‰æ›´ãŒè¡Œã‚ã‚ŒãŸãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€<strong>å°†æ¥çš„ã«</strong> WebAssembly ã® Module ã¨ã®ç›¸äº’é‹ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã§ã™ã€‚</p>
<p>ã“ã®èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ãŠã•ãˆã¦ãŠãã¹ãå‰æãŒäºŒã¤ã‚ã‚Šã¾ã™ã€‚</p>
<p>ï¼‘ã¤ç›®ã¯ã€WebAssembly ã® Module ã§ã¯é–¢æ•°ã‚’ export ã™ã‚‹ã¨ãã«æ–‡å­—åˆ—ã§åå‰ã‚’ã¤ã‘ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚
ãŸã¨ãˆã°æ¬¡ã®ä¾‹ã§ã¯ <code>$add</code> ã¨ã„ã†é–¢æ•°ã‚’ <code>"add"</code> ã¨ã„ã†åå‰ã§ export ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-wasm"><code class="language-wasm"><span class="token punctuation">(</span><span class="token keyword">module</span>
  <span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token variable">$add</span> <span class="token punctuation">(</span><span class="token keyword">param</span> <span class="token variable">$lhs</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">param</span> <span class="token variable">$rhs</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">result</span> <span class="token keyword">i32</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span>.get <span class="token variable">$lhs</span>
    <span class="token keyword">local</span>.get <span class="token variable">$rhs</span>
    <span class="token keyword">i32<span class="token punctuation">.</span>add</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">export</span> <span class="token string">"add"</span> <span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token variable">$add</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div>
<p>ï¼’ã¤ç›®ã¯ã€WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰ import ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€ã¨ã„ã†å‹•ããŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚<a href="https://github.com/WebAssembly/esm-integration">WebAsembly/esm-integration</a> ãªã©ã§ã€ãã®å‹•ãã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ç°¡å˜ã«ã„ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ç°¡å˜ã« WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰æ‰±ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> add <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"foo.wasm"</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div>
<p>ç¾åœ¨ã® WebAssembly ãŠã‚ˆã³ ECMAScript ã®ä»•æ§˜ã§ã¯ã€ã“ã®ã‚ˆã†ãªå½¢ã§ JavaScript å´ã‹ã‚‰ WebAssembly ã® Module ã‚’èª­ã¿è¾¼ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</p>
<p>ã“ã‚Œã‚‰ã‚’å‰æã¨ã—ã¦ä¸Šã§ã€æ¬¡ã®ä¾‹ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚</p>
<p>ã“ã®ä¾‹ã¯å‰è¿°ã—ãŸã‚‚ã®ã¨ã»ã¨ã‚“ã©å¤‰ã‚ã‚Šã¾ã›ã‚“ãŒã€<code>export</code> ã®å¾Œã‚ãŒ <code>"add"</code> ã§ã¯ãªã <code>"+"</code> ã«ãªã£ã¦ã„ã¾ã™ã€‚<code>export</code> ã®å¾Œã‚ã«ã¯æ–‡å­—åˆ—ã‚’ç½®ãã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã“ã‚Œã¯å¦¥å½“ãª Module ã§ã™ã€‚</p>
<div class="remark-highlight"><pre class="language-wasm"><code class="language-wasm"><span class="token punctuation">(</span><span class="token keyword">module</span>
  <span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token variable">$add</span> <span class="token punctuation">(</span><span class="token keyword">param</span> <span class="token variable">$lhs</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">param</span> <span class="token variable">$rhs</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">result</span> <span class="token keyword">i32</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span>.get <span class="token variable">$lhs</span>
    <span class="token keyword">local</span>.get <span class="token variable">$rhs</span>
    <span class="token keyword">i32<span class="token punctuation">.</span>add</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">export</span> <span class="token string">"+"</span> <span class="token punctuation">(</span><span class="token keyword">func</span> <span class="token variable">$add</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div>
<p>å°†æ¥ã€WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰ import ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ãã«ã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ <code>+</code> é–¢æ•°ã‚’ named import ã—ãŸã„ã¨ã—ã¾ã™ã€‚
<strong>ã—ã‹ã—ã€<code>+</code> ã¯ <code>IdentifierName</code> ã§ã¯ãªã„ã®ã§ã€ä»Šã¾ã§ã® ECMAScript ã®ä»•æ§˜ã§ã¯ named import ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</strong></p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// ã§ããªã„</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token operator">+</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"foo.wasm"</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// ã§ããªã„</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token operator">+</span> <span class="token keyword module">as</span> add <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"foo.wasm"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>ä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ <code>ImportSpecifier</code> ã® <code>as</code> ã®å·¦å´ã« <code>StringLiteral</code> ã‚’ç½®ã‘ã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// ES2022 ã§ã§ãã‚‹</span>
<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token string">"+"</span> <span class="token keyword module">as</span> add <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"foo.wasm"</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div>
<p>ã“ã®ã‚ˆã†ãªæ›¸ãæ–¹ã¯ ES2022 ã§ã¯æ§‹æ–‡ä¸Šã¯å¦¥å½“ã§ã™ãŒã€å®Ÿéš›ã«ã¯ã¾ã  WebAssembly ã® import ã¯ã§ãã¾ã›ã‚“ã€‚</p>
<p>ã¾ãŸã€<code>ModuleExportName</code> ã® <code>StringLiteral</code> ãŒ Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†åˆ¶ç´„ãŒå­˜åœ¨ã™ã‚‹ã®ã‚‚ã€WebAssembly ã¨ã®ç›¸äº’é‹ç”¨ã®ãŸã‚ã§ã™ã€‚
WebAssembly ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ <code>export</code> ã®å¾Œã«ç¶šãæ–‡å­—åˆ—ã¯ Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã°ã„ã‘ãªã„ã®ã§ã€ãã‚Œã¨çµ±ä¸€ã•ã›ãŸã®ã§ã—ã‚‡ã†ã€‚</p>
<h2>å‚è€ƒãƒªãƒ³ã‚¯</h2>
<ul>
<li>TC39
<ul>
<li><a href="https://github.com/tc39/ecma262/pull/2154">Normative: Arbitrary module namespace identifier names by bmeck Â· Pull Request #2154 Â· tc39/ecma262</a></li>
<li><a href="https://github.com/tc39/notes/blob/master/meetings/2020-09/sept-21.md#arbitrary-strings-as-exportimport-names">Arbitrary module namespace identifier names Â· tc39/notes/notes/sept-21.md</a></li>
<li><a href="https://github.com/tc39/proposal-import-reflection">tc39/proposal-import-reflection</a></li>
</ul>
</li>
<li>Babel
<ul>
<li><a href="https://github.com/babel/babel/pull/13195">Parse string export names by default (<code>moduleStringNames</code>) by nicolo-ribaudo Â· Pull Request #13195 Â· babel/babel</a></li>
<li><a href="https://babeljs.io/blog/2020/10/15/7.12.0#imports-and-exports-with-string-names-12091httpsgithubcombabelbabelpull12091">7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks Â· Babel</a></li>
</ul>
</li>
<li>MDN
<ul>
<li><a href="https://developer.mozilla.org/ja/docs/Glossary/Identifier">Identifier (è­˜åˆ¥å­) - MDN Web Docs ç”¨èªé›†: ã‚¦ã‚§ãƒ–é–¢é€£ç”¨èªã®å®šç¾©</a></li>
<li><a href="https://developer.mozilla.org/ja/docs/Web/API/USVString">USVString - Web API | MDN</a></li>
</ul>
</li>
<li>ECMA262
<ul>
<li><a href="https://tc39.es/ecma262/#prod-ImportSpecifier">ImportSpecifier Â· ECMAScriptÂ® 2022 LanguageÂ Specification</a></li>
<li><a href="https://tc39.es/ecma262/#prod-ExportSpecifier">ExportSpecifier Â· ECMAScriptÂ® 2022 LanguageÂ Specification</a></li>
<li><a href="https://tc39.es/ecma262/#prod-ModuleExportName">ModuleExportName Â· ECMAScriptÂ® 2022 LanguageÂ Specification</a></li>
<li><a href="https://tc39.es/ecma262/#sec-isstringwellformedunicode">IsStringWellFormedUnicode Â· ECMAScriptÂ® 2022 LanguageÂ Specification</a></li>
</ul>
</li>
<li>Unicode
<ul>
<li><a href="https://www.unicode.org/glossary/#well_formed_code_unit_sequence">Well-Formed Code Unit Sequence Â· Glossary of Unicode Terms</a></li>
</ul>
</li>
<li>WebAssembly
<ul>
<li><a href="https://github.com/WebAssembly/esm-integration">WebAssembly/esm-integration: ECMAScript module integration</a></li>
<li><a href="https://webassembly.github.io/spec/core/text/values.html#names">Values â€” WebAssembly 1.1 (Draft 2021-12-02)</a></li>
<li><a href="https://github.com/WebAssembly/esm-integration/issues/39">ESM isn't suited for importing objects containing non-JavaScript identifiers Â· Issue #39 Â· WebAssembly/esm-integration</a></li>
</ul>
</li>
</ul>
</div></div><style data-emotion="css xjpton">.css-xjpton{margin-top:1.6rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:flex-end;}.css-xjpton .tag{font-size:0.8rem;border:1px solid #888;color:#444;padding:0.2rem 0.4rem;cursor:pointer;margin-right:0.8rem;border-radius:2px;}.css-xjpton .tag:link,.css-xjpton .tag:visited{color:#444;}</style><div class="css-xjpton"><a class="tag" href="/frontend-expert/tags/ECMAScript">ECMAScript</a></div><style data-emotion="css 1ees6rw">.css-1ees6rw{margin-top:32px;}.css-1ees6rw .tweetButton{width:88px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px;font-size:12px;background-color:#1d9bf0;position:relative;height:20px;box-sizing:border-box;padding:1px 12px 1px 12px;color:#fff;border-radius:9999px;font-weight:500;cursor:pointer;vertical-align:top;}.css-1ees6rw .tweetButton:hover{background-color:#0c7abf;}.css-1ees6rw .tweetButton svg{display:inline-block;width:12px;height:12px;margin-right:4px;}</style><p class="css-1ees6rw"><a href="" class="tweetButton" target="_blank" rel="noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>ãƒ„ã‚¤ãƒ¼ãƒˆ<!-- --></a></p><style data-emotion="css 12fmiz3">.css-12fmiz3{font-size:0.9rem;text-align:center;margin-top:16px;padding-top:16px;border-top:1px solid #ccc;}</style><div class="css-12fmiz3">è¨˜äº‹ã«é–¢ã™ã‚‹å ±å‘Šãªã©ã¯<!-- --><a href="https://github.com/cybozu/frontend-expert/issues" target="_blank" rel="noopener noreferrer">ã“ã¡ã‚‰</a>ã‹ã‚‰<!-- --></div></div></main><style data-emotion="css 1n88omd">.css-1n88omd{padding:2.4rem 0;background-color:var(--primary-color);color:white;}.css-1n88omd .content{max-width:var(--content-width);padding:0 1.2rem;box-sizing:border-box;margin:0 auto;}.css-1n88omd a{color:white;}.css-1n88omd ul{list-style:none;margin-bottom:2.5rem;}.css-1n88omd ul li{font-size:1.2rem;margin-bottom:0.5rem;}.css-1n88omd small{font-size:1rem;}</style><footer class="css-1n88omd"><div class="content"><ul><li><a href="https://cybozu.co.jp/">ã‚µã‚¤ãƒœã‚¦ã‚º ä¼æ¥­æƒ…å ±</a></li><li><a href="https://www.cybozu.com/jp/">cybozu.com</a></li><li><a href="https://blog.cybozu.io/">ã‚µã‚¤ãƒœã‚¦ã‚ºã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãƒ–ãƒ­ã‚° Cybozu Inside Out</a></li><li><a href="https://tech.cybozu.io/">Cybozu Tech</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/">æ¡ç”¨æƒ…å ±</a></li></ul><small>Copyright Â© Cybozu, Inc.</small></div></footer></div>;<!-- --></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"type":"markdown","href":"/posts/strings-as-import-export","slug":"strings-as-import-export","content":"\u003cp\u003e11 æœˆ 11 æ—¥ã«ã€ä»¥å‰ã‹ã‚‰ä¸€éƒ¨ã§æ³¨ç›®ã•ã‚Œã¦ã„ãŸ\u003ca href=\"https://github.com/tc39/ecma262/pull/2154\"\u003eã‚ã‚‹ Pull Request\u003c/a\u003e ãŒ \u003ca href=\"https://github.com/tc39/ecma262\"\u003etc39/ecma262\u003c/a\u003e ã«ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eã“ã® Pull Request ãŒãƒãƒ¼ã‚¸ã•ã‚ŒãŸã“ã¨ã§ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®ä»•æ§˜å¤‰æ›´ã¯ãƒ—ãƒ­ãƒãƒ¼ã‚¶ãƒ«ã¨ã„ã†å½¢ã§æ‰±ã‚ã‚Œã¦ã¯ã„ã¾ã›ã‚“ãŒã€æ§‹æ–‡ä¸Šã®å½±éŸ¿ãŒã‚ã‚‹ã®ã§ã€JavaScript ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦çŸ¥ã£ã¦ãŠãã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003ch2\u003eæ¦‚è¦\u003c/h2\u003e\n\u003cp\u003eã¾ãšå…·ä½“ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã€æ¬¡ã®ã‚ˆã†ã« import/export ã™ã‚‹éš›ã®åå‰ã¨ã—ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e foo \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"foo\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e foo \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./module.js\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efoo\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// foo\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eåŸºæœ¬çš„ã«ã¯ã“ã‚Œã ã‘ã§ã™ã€‚\u003c/p\u003e\n\u003ch2\u003eè©³è§£\u003c/h2\u003e\n\u003cp\u003eã“ã“ã‹ã‚‰ã¯ä»•æ§˜ä¸Šã®ç”¨èªã‚’ä½¿ã£ã¦è§£èª¬ã‚’ã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®å¤‰æ›´ãŒå…¥ã‚‹å‰ã® ECMAScript ã§ã¯ \u003ca href=\"https://tc39.es/ecma262/#prod-ImportSpecifier\"\u003e\u003ccode\u003eImportSpecifier\u003c/code\u003e\u003c/a\u003e ã§ \u003ccode\u003eas\u003c/code\u003e ã‚’ä½¿ã†å ´åˆ \u003ccode\u003eas\u003c/code\u003e ã®å·¦å´ã¯ \u003ca href=\"https://tc39.es/ecma262/#prod-IdentifierName\"\u003e\u003ccode\u003eIdentifierName\u003c/code\u003e\u003c/a\u003e ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã§ã—ãŸã€‚\nã¾ãŸ \u003ca href=\"https://tc39.es/ecma262/#prod-ExportSpecifier\"\u003e\u003ccode\u003eExportSpecifier\u003c/code\u003e\u003c/a\u003e ã¯ã€å˜ä¸€ã® \u003ccode\u003eIdentifierName\u003c/code\u003e ã‚‚ã—ãã¯ã€\u003ccode\u003eas\u003c/code\u003e ã‚’ä½¿ã†å ´åˆã¯ \u003ccode\u003eas\u003c/code\u003e ã®å·¦å´ã¨å³å´ã¯ä¸¡æ–¹ã¨ã‚‚ \u003ccode\u003eIdentifierName\u003c/code\u003e ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã§ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã€æ–°ãŸã« \u003ca href=\"https://tc39.es/ecma262/#prod-ModuleExportName\"\u003e\u003ccode\u003eModuleExportName\u003c/code\u003e\u003c/a\u003e ã¨ã„ã†æ§‹æ–‡ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚\u003ccode\u003eModuleExportName\u003c/code\u003e ã¯ã€\u003ccode\u003eIdentifierName\u003c/code\u003e ã‚‚ã—ãã¯ \u003ca href=\"https://tc39.es/ecma262/#prod-StringLiteral\"\u003e\u003ccode\u003eStringLiteral\u003c/code\u003e\u003c/a\u003e ã®å½¢ã‚’ã¨ã‚Šã¾ã™ã€‚\nãŸã¨ãˆã°ã€è­˜åˆ¥å­ \u003ccode\u003efoo\u003c/code\u003e ã‚„ æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ« \u003ccode\u003e\"ğŸ˜ƒ hey hey\"\u003c/code\u003e ã¯ \u003ccode\u003eModuleExportName\u003c/code\u003e ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eãã—ã¦ã€\u003ccode\u003eImportSpecifier\u003c/code\u003e ã§ \u003ccode\u003eas\u003c/code\u003e ã‚’ä½¿ã†å ´åˆ \u003ccode\u003eas\u003c/code\u003e ã®å·¦å´ã¯ \u003ccode\u003eModuleExportName\u003c/code\u003e ã®å½¢ã‚’ã¨ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€æ¬¡ã®ä¾‹ã® \u003ccode\u003eimport\u003c/code\u003e æ–‡ã¯ã™ã¹ã¦æ§‹æ–‡ã¨ã—ã¦å¦¥å½“ã§ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e bar \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e baz \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eExportSpecifier\u003c/code\u003e ã¯ã€å˜ä¸€ã® \u003ccode\u003eModuleExportName\u003c/code\u003e ã‚‚ã—ãã¯ã€ \u003ccode\u003eas\u003c/code\u003e ã‚’ä½¿ã†å ´åˆ \u003ccode\u003eas\u003c/code\u003e ã®å·¦å´ã¨å³å´ã¯ä¸¡æ–¹ã¨ã‚‚ \u003ccode\u003eModuleExportName\u003c/code\u003e ã®å½¢ã‚’ã¨ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã—ãŸãŒã£ã¦ã€æ¬¡ã®ä¾‹ã® \u003ccode\u003eexport\u003c/code\u003e æ–‡ã¯ã™ã¹ã¦æ§‹æ–‡ã¨ã—ã¦å¦¥å½“ã§ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token exports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token exports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e foo \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e foo \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e foo \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eãŸã ã— \u003ccode\u003eExportSpecifier\u003c/code\u003e ã® \u003ccode\u003eModuleExportName\u003c/code\u003e ã‚’ \u003ccode\u003eStringLiteral\u003c/code\u003e ã«ã§ãã‚‹ã®ã¯ã€ãã® \u003ccode\u003eExportSpecifier\u003c/code\u003e ã‚’å«ã‚€ \u003ca href=\"https://tc39.es/ecma262/#prod-ExportDeclaration\"\u003e\u003ccode\u003eExportDeclaration\u003c/code\u003e\u003c/a\u003e ã« \u003ca href=\"https://tc39.es/ecma262/#prod-FromClause\"\u003e\u003ccode\u003eFromClause\u003c/code\u003e\u003c/a\u003e ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eãŸã¨ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ \u003ccode\u003eExportDeclaration\u003c/code\u003e ã« \u003ccode\u003eFromClause\u003c/code\u003e ãŒå­˜åœ¨ã—ãªã„ã®ã§ \u003ccode\u003eExportSpecifier\u003c/code\u003e ã§ \u003ccode\u003eStringLiteral\u003c/code\u003e ã‚’ä½¿ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003c!-- prettier-ignore --\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// ã§ããªã„\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eä¸€æ–¹ã§ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ \u003ccode\u003eFromClause\u003c/code\u003e ãŒå­˜åœ¨ã™ã‚‹ã®ã§ã€\u003ccode\u003eExportSpecifier\u003c/code\u003e ã§ \u003ccode\u003eStringLiteral\u003c/code\u003e ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// ã§ãã‚‹\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ğŸ˜ƒ hey hey\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mod\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eæ–‡å­—åˆ—ã®åˆ¶ç´„\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eStringLiteral\u003c/code\u003e ã¯é€šå¸¸ã® JavaScript ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã§ã™ã€‚ãŸã¨ãˆã° \u003ccode\u003e\"foo\"\u003c/code\u003e ã¨ã‹ \u003ccode\u003e\"bar\"\u003c/code\u003e ã¿ãŸã„ãªå½¢ã‚’ã—ãŸã‚‚ã®ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eModuleExportName\u003c/code\u003e ã¯ \u003ccode\u003eStringLiteral\u003c/code\u003e ã‚’å«ã‚€ã®ã§ã€å…¨ã¦ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ \u003ccode\u003eModuleExportName\u003c/code\u003e ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã¿ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯å°‘ã€…ç•°ãªã‚Šã¾ã™ã€‚\u003ccode\u003eModuleExportName\u003c/code\u003e ã¨ã—ã¦ä½¿ãˆã‚‹ \u003ccode\u003eStringLiteral\u003c/code\u003e ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ccode\u003eModuleExportName\u003c/code\u003e ã¨ã—ã¦ä½¿ãˆã‚‹ \u003ccode\u003eStringLiteral\u003c/code\u003e ã¯ã€\u003ca href=\"https://www.unicode.org/glossary/#well_formed_code_unit_sequence\"\u003eWell-Formed Code Unit Sequence\u003c/a\u003e ã§ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚\u003c/strong\u003e\nã“ã®ã“ã¨ã¯ã€\u003ca href=\"https://tc39.es/ecma262/#sec-module-semantics\"\u003eModule Semantics\u003c/a\u003e ã® Eary Errros å†…ã® \u003ca href=\"https://tc39.es/ecma262/#_ref_6583\"\u003ehttps://tc39.es/ecma262/#_ref_6583\u003c/a\u003e ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003ch3\u003eWell-Formed Code Unit Sequence ã¨ã¯\u003c/h3\u003e\n\u003cp\u003eJavaScript ã®æ–‡å­—åˆ—ã¯ UTF-16 ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€å®Ÿéš›ã«ã¯ JavaScript ã®æ–‡å­—åˆ—ã¨ã„ã†ã®ã¯ 16 ãƒ“ãƒƒãƒˆã®æ•´æ•°ã§è¡¨ç¾ã•ã‚Œã‚‹ Unicode ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸¦ã³ã§ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003cp\u003eUTF-16 ã§ã¯åŸºæœ¬çš„ã« 1 æ–‡å­—ã«ã¤ã 16 ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€Unicode ã® BMP(åŸºæœ¬å¤šè¨€èªé¢)ã«åã¾ã‚‰ãªã„æ–‡å­—ã¯ 16 ãƒ“ãƒƒãƒˆã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã‚’äºŒã¤ä¸¦ã¹ãŸãƒšã‚¢ã§è¡¨ç¾ã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eãŸã¨ãˆã°ã€ã²ã‚‰ãŒãªã® \u003ccode\u003eã‚\u003c/code\u003e ã¯ BMP ã«å«ã¾ã‚Œã¦ãŠã‚Šã€ä¸€ã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆ(\u003ccode\u003e0x3042\u003c/code\u003e)ã§è¡¨ã•ã‚Œã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\\u3042\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ã‚\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eä¸€æ–¹ã§ã€\u003ccode\u003eğ ®Ÿ\u003c/code\u003e(\u003ccode\u003eå±\u003c/code\u003e ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„) ã¯ BMP ã«å«ã¾ã‚Œãªã„ã®ã§ã€äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆ(\u003ccode\u003e0xD842\u003c/code\u003e ã¨ \u003ccode\u003e0xDF9F\u003c/code\u003e)ã§è¡¨ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ãƒšã‚¢ã‚’ã€ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã¨ã„ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\\uD842\\uDF9F\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ğ ®Ÿ\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eå‰è¿°ã®ã¨ãŠã‚Šã€JavaScript ã®æ–‡å­—åˆ—ã¯ 16 ãƒ“ãƒƒãƒˆã®æ•´æ•°ã§è¡¨ç¾ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã®ä¸¦ã³ã§ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€\u003ccode\u003eğ ®Ÿ\u003c/code\u003e ã‚’æ§‹æˆã™ã‚‹äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã§ã‚ã‚‹ \u003ccode\u003e0xD842\u003c/code\u003e ã¨ \u003ccode\u003e0xDF9F\u003c/code\u003e ã®ã†ã¡ä¸€ã¤ã ã‘ã‚’å«ã‚€æ–‡å­—åˆ—ã‚‚ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e str \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\\uD842\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eã—ã‹ã—ã€\u003ccode\u003e0xD842\u003c/code\u003e å˜ä½“ã«å¯¾å¿œã™ã‚‹æ–‡å­—ã¯ Unicode ã«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®ã‚ˆã†ãªã€\u003cstrong\u003eå¯¾ã«ãªã£ã¦ã„ãªã„ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã‚’å«ã‚€ã‚ˆã†ãªæ–‡å­—åˆ—ã¯ Well-Formed Code Unit Sequence ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eé€†ã«ã€å¯¾ã«ãªã£ã¦ã„ãªã„ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã‚’è¨±å®¹ã—ãªã„ã‚ˆã†ãªæ–‡å­—åˆ—ã‚’ \u003cstrong\u003eWell-Formed Code Unit Sequence\u003c/strong\u003e ã¨ã„ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€å¤§é›‘æŠŠã«ã„ãˆã°ã€Œã¡ã‚ƒã‚“ã¨æ–‡å­—ã«ãªã£ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã§æ§‹æˆã•ã‚ŒãŸæ–‡å­—åˆ—ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã¡ãªã¿ã«ã€ã“ã®ã‚ˆã†ãª Well-Formed ãªæ–‡å­—åˆ—ã¯ WebIDL ã§ã¯ \u003ca href=\"https://developer.mozilla.org/ja/docs/Web/API/USVString\"\u003eUSVString\u003c/a\u003e ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003ch3\u003eæ–°ã—ã„ Abstract Operation \u003ccode\u003eIsStringWellFormedUnicode\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003eã“ã®ä»•æ§˜ã®å¤‰æ›´ã«ä¼´ã£ã¦ã€\u003ca href=\"https://tc39.es/ecma262/#sec-isstringwellformedunicode\"\u003e\u003ccode\u003eIsStringWellFormedUnicode\u003c/code\u003e\u003c/a\u003e ã¨ã„ã†æ–°ã—ã„ Abstract Operation ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eã“ã® Abstract Operation ã¯ã€å¼•æ•°ã®æ–‡å­—åˆ—ãŒ Well-Formed Code Unit Sequence ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eå‰è¿°ã—ãŸ \u003ccode\u003eModuleExportName\u003c/code\u003e ã®ãŸã‚ã® Early Errors ã§ã¯ã€ã“ã® \u003ccode\u003eIsStringWellFormedUnicode\u003c/code\u003e Abstract Operation ã‚’ä½¿ã£ã¦ \u003ccode\u003eStringLiteral\u003c/code\u003e ãŒ Well-Formed Code Unit Sequence ã‹ã©ã†ã‹ã®åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚ãã—ã¦ã‚‚ã— Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã° Syntax Error ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003ch2\u003eä»•æ§˜å¤‰æ›´ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³\u003c/h2\u003e\n\u003cp\u003eå®Ÿã¯ã“ã®ä»•æ§˜ã®å¤‰æ›´ã¯ã€ä»Šã® Web ã®ä»•æ§˜ã§ã¯ã»ã¨ã‚“ã©å½¹ã«ç«‹ã¤ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®å¤‰æ›´ãŒè¡Œã‚ã‚ŒãŸãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€\u003cstrong\u003eå°†æ¥çš„ã«\u003c/strong\u003e WebAssembly ã® Module ã¨ã®ç›¸äº’é‹ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ãŠã•ãˆã¦ãŠãã¹ãå‰æãŒäºŒã¤ã‚ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eï¼‘ã¤ç›®ã¯ã€WebAssembly ã® Module ã§ã¯é–¢æ•°ã‚’ export ã™ã‚‹ã¨ãã«æ–‡å­—åˆ—ã§åå‰ã‚’ã¤ã‘ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nãŸã¨ãˆã°æ¬¡ã®ä¾‹ã§ã¯ \u003ccode\u003e$add\u003c/code\u003e ã¨ã„ã†é–¢æ•°ã‚’ \u003ccode\u003e\"add\"\u003c/code\u003e ã¨ã„ã†åå‰ã§ export ã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-wasm\"\u003e\u003ccode class=\"language-wasm\"\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003emodule\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$add\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eparam\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$lhs\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eparam\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$rhs\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eresult\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elocal\u003c/span\u003e.get \u003cspan class=\"token variable\"\u003e$lhs\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elocal\u003c/span\u003e.get \u003cspan class=\"token variable\"\u003e$rhs\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ei32\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eadd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"add\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$add\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eï¼’ã¤ç›®ã¯ã€WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰ import ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€ã¨ã„ã†å‹•ããŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\u003ca href=\"https://github.com/WebAssembly/esm-integration\"\u003eWebAsembly/esm-integration\u003c/a\u003e ãªã©ã§ã€ãã®å‹•ãã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eç°¡å˜ã«ã„ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ç°¡å˜ã« WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰æ‰±ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e add \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"foo.wasm\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eadd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eç¾åœ¨ã® WebAssembly ãŠã‚ˆã³ ECMAScript ã®ä»•æ§˜ã§ã¯ã€ã“ã®ã‚ˆã†ãªå½¢ã§ JavaScript å´ã‹ã‚‰ WebAssembly ã® Module ã‚’èª­ã¿è¾¼ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã‚Œã‚‰ã‚’å‰æã¨ã—ã¦ä¸Šã§ã€æ¬¡ã®ä¾‹ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã®ä¾‹ã¯å‰è¿°ã—ãŸã‚‚ã®ã¨ã»ã¨ã‚“ã©å¤‰ã‚ã‚Šã¾ã›ã‚“ãŒã€\u003ccode\u003eexport\u003c/code\u003e ã®å¾Œã‚ãŒ \u003ccode\u003e\"add\"\u003c/code\u003e ã§ã¯ãªã \u003ccode\u003e\"+\"\u003c/code\u003e ã«ãªã£ã¦ã„ã¾ã™ã€‚\u003ccode\u003eexport\u003c/code\u003e ã®å¾Œã‚ã«ã¯æ–‡å­—åˆ—ã‚’ç½®ãã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã“ã‚Œã¯å¦¥å½“ãª Module ã§ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-wasm\"\u003e\u003ccode class=\"language-wasm\"\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003emodule\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$add\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eparam\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$lhs\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eparam\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$rhs\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eresult\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elocal\u003c/span\u003e.get \u003cspan class=\"token variable\"\u003e$lhs\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elocal\u003c/span\u003e.get \u003cspan class=\"token variable\"\u003e$rhs\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ei32\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eadd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"+\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$add\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eå°†æ¥ã€WebAssembly ã® Module ã‚’ JavaScript ã‹ã‚‰ import ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ãã«ã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ \u003ccode\u003e+\u003c/code\u003e é–¢æ•°ã‚’ named import ã—ãŸã„ã¨ã—ã¾ã™ã€‚\n\u003cstrong\u003eã—ã‹ã—ã€\u003ccode\u003e+\u003c/code\u003e ã¯ \u003ccode\u003eIdentifierName\u003c/code\u003e ã§ã¯ãªã„ã®ã§ã€ä»Šã¾ã§ã® ECMAScript ã®ä»•æ§˜ã§ã¯ named import ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// ã§ããªã„\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"foo.wasm\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// ã§ããªã„\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e add \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"foo.wasm\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eä»Šå›ã®å¤‰æ›´ã«ã‚ˆã£ã¦ \u003ccode\u003eImportSpecifier\u003c/code\u003e ã® \u003ccode\u003eas\u003c/code\u003e ã®å·¦å´ã« \u003ccode\u003eStringLiteral\u003c/code\u003e ã‚’ç½®ã‘ã‚‹ã‚ˆã†ã«ãªã£ãŸã“ã¨ã§ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// ES2022 ã§ã§ãã‚‹\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"+\"\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eas\u003c/span\u003e add \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"foo.wasm\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eadd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eã“ã®ã‚ˆã†ãªæ›¸ãæ–¹ã¯ ES2022 ã§ã¯æ§‹æ–‡ä¸Šã¯å¦¥å½“ã§ã™ãŒã€å®Ÿéš›ã«ã¯ã¾ã  WebAssembly ã® import ã¯ã§ãã¾ã›ã‚“ã€‚\u003c/p\u003e\n\u003cp\u003eã¾ãŸã€\u003ccode\u003eModuleExportName\u003c/code\u003e ã® \u003ccode\u003eStringLiteral\u003c/code\u003e ãŒ Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†åˆ¶ç´„ãŒå­˜åœ¨ã™ã‚‹ã®ã‚‚ã€WebAssembly ã¨ã®ç›¸äº’é‹ç”¨ã®ãŸã‚ã§ã™ã€‚\nWebAssembly ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ \u003ccode\u003eexport\u003c/code\u003e ã®å¾Œã«ç¶šãæ–‡å­—åˆ—ã¯ Well-Formed Code Unit Sequence ã§ãªã‘ã‚Œã°ã„ã‘ãªã„ã®ã§ã€ãã‚Œã¨çµ±ä¸€ã•ã›ãŸã®ã§ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003ch2\u003eå‚è€ƒãƒªãƒ³ã‚¯\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eTC39\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/tc39/ecma262/pull/2154\"\u003eNormative: Arbitrary module namespace identifier names by bmeck Â· Pull Request #2154 Â· tc39/ecma262\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/tc39/notes/blob/master/meetings/2020-09/sept-21.md#arbitrary-strings-as-exportimport-names\"\u003eArbitrary module namespace identifier names Â· tc39/notes/notes/sept-21.md\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/tc39/proposal-import-reflection\"\u003etc39/proposal-import-reflection\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eBabel\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/babel/babel/pull/13195\"\u003eParse string export names by default (\u003ccode\u003emoduleStringNames\u003c/code\u003e) by nicolo-ribaudo Â· Pull Request #13195 Â· babel/babel\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://babeljs.io/blog/2020/10/15/7.12.0#imports-and-exports-with-string-names-12091httpsgithubcombabelbabelpull12091\"\u003e7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks Â· Babel\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMDN\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Glossary/Identifier\"\u003eIdentifier (è­˜åˆ¥å­) - MDN Web Docs ç”¨èªé›†: ã‚¦ã‚§ãƒ–é–¢é€£ç”¨èªã®å®šç¾©\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/API/USVString\"\u003eUSVString - Web API | MDN\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eECMA262\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://tc39.es/ecma262/#prod-ImportSpecifier\"\u003eImportSpecifier Â· ECMAScriptÂ® 2022 LanguageÂ Specification\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://tc39.es/ecma262/#prod-ExportSpecifier\"\u003eExportSpecifier Â· ECMAScriptÂ® 2022 LanguageÂ Specification\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://tc39.es/ecma262/#prod-ModuleExportName\"\u003eModuleExportName Â· ECMAScriptÂ® 2022 LanguageÂ Specification\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://tc39.es/ecma262/#sec-isstringwellformedunicode\"\u003eIsStringWellFormedUnicode Â· ECMAScriptÂ® 2022 LanguageÂ Specification\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eUnicode\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.unicode.org/glossary/#well_formed_code_unit_sequence\"\u003eWell-Formed Code Unit Sequence Â· Glossary of Unicode Terms\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eWebAssembly\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/WebAssembly/esm-integration\"\u003eWebAssembly/esm-integration: ECMAScript module integration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://webassembly.github.io/spec/core/text/values.html#names\"\u003eValues â€” WebAssembly 1.1 (Draft 2021-12-02)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/WebAssembly/esm-integration/issues/39\"\u003eESM isn't suited for importing objects containing non-JavaScript identifiers Â· Issue #39 Â· WebAssembly/esm-integration\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","metaData":{"title":"ãªãœ ES2022 ã§æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ãŸ import/export ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã‹","author":"sosukesuzuki","createdAt":"2021-12-06","summary":"ES2022 ã«å«ã¾ã‚Œã‚‹äºˆå®šã®ã€è­˜åˆ¥å­ã§ã¯ãªãæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ã¦ import/export ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ ECMAScript ã®ä»•æ§˜å¤‰æ›´ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™","tags":["ECMAScript"],"updatedAt":"2021-12-06"}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"strings-as-import-export"},"buildId":"LMNvqFdcvV_DKsS9lLhgF","assetPrefix":"/frontend-expert","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>