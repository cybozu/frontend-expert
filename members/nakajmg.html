<!DOCTYPE html><html><head><title>nakajmg | サイボウズ フロントエンドエキスパートチーム</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><link rel="icon" type="image/png" sizes="32x32" href="/frontend-expert/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/frontend-expert/icons/favicon-16x16.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="nakajmg | サイボウズ フロントエンドエキスパートチーム"/><meta name="twitter:description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><meta name="twitter:image " content="https://cybozu.github.io/frontend-expert/ogp/ogp.jpg"/><meta property="og:type" content="article"/><meta property="og:title" content="nakajmg | サイボウズ フロントエンドエキスパートチーム"/><meta property="og:site_name" content="サイボウズ フロントエンドエキスパートチーム"/><meta property="og:description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><meta property="og:image" content="https://cybozu.github.io/frontend-expert/ogp/ogp.jpg"/><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/frontend-expert/feeds/atom.xml"/><meta name="next-head-count" content="16"/><link rel="preload" href="/frontend-expert/_next/static/css/76ea63cd4865a048.css" as="style"/><link rel="stylesheet" href="/frontend-expert/_next/static/css/76ea63cd4865a048.css" data-n-g=""/><link rel="preload" href="/frontend-expert/_next/static/css/167b2548c0061980.css" as="style"/><link rel="stylesheet" href="/frontend-expert/_next/static/css/167b2548c0061980.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/frontend-expert/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/frontend-expert/_next/static/chunks/webpack-729603c643508a46.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/framework-46c1838cec3c6950.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/main-d8805e7f2054e339.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/_app-ab65071b83dd12b3.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/247-11af9d0831f37191.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/members/%5Bname%5D-9da81b2cc6f07ad5.js" defer=""></script><script src="/frontend-expert/_next/static/BAwqWviZHwHcbKXpHdw_Z/_buildManifest.js" defer=""></script><script src="/frontend-expert/_next/static/BAwqWviZHwHcbKXpHdw_Z/_ssgManifest.js" defer=""></script><script src="/frontend-expert/_next/static/BAwqWviZHwHcbKXpHdw_Z/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_layout__3Ma1v"><header class="Header_header__91Nua"><div class="Header_content__JIbnm"><h1><a href="/frontend-expert"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9Ijc4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIvPg=="/></span><img alt="Frontend Expert Team Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Frontend Expert Team Logo" src="/frontend-expert/logo.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></h1><nav class="Header_navigation__2pqVF"><ul><li><a href="/frontend-expert/members">Members</a></li><li><a href="/frontend-expert/posts">Posts</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/list/front_end_expert.html" target="_blank" rel="noopener noreferrer">Recruiting</a></li></ul></nav></div></header><main class="Layout_main__3t9q9"><div class="Layout_content__2clJn"><div class="member_member__2D-qA"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="nakajmg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="nakajmg" src="/frontend-expert//member-icons/nakajmg.jpg" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span><h1 class="member_memberName__3YKSY">nakajmg</h1><ul class="member_links__pW2oq"><li><a href="https://twitter.com/nakajmg">Twitter</a></li><li><a href="https://github.com/nakajmg">GitHub</a></li></ul></div><div class="member_posts__3oAkN"><div><div class="Posts_postItem__3hs9O"><a href="/frontend-expert/posts/team-activity-logs-2021">2021-12-18 長期運用プロダクトを抱える組織で横断的なフロントエンド支援チームが1年で行なったこと</a></div><div class="Posts_postItem__3hs9O"><a href="/frontend-expert/posts/eyedropper-api">2021-11-02 Chrome 95 で追加された画面上の色を取得するEyeDropper APIについて</a></div></div></div></div></main><footer class="Footer_footer__2epqf"><div class="Footer_content__3ovcH"><ul><li><a href="https://cybozu.co.jp/">サイボウズ 企業情報</a></li><li><a href="https://www.cybozu.com/jp/">cybozu.com</a></li><li><a href="https://blog.cybozu.io/">サイボウズエンジニアのブログ Cybozu Inside Out</a></li><li><a href="https://tech.cybozu.io/">Cybozu Tech</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/">採用情報</a></li></ul><small>Copyright © Cybozu, Inc.</small></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"member":{"name":"nakajmg","twitterId":"nakajmg","githubUsername":"nakajmg","active":true},"posts":[{"slug":"team-activity-logs-2021","content":"\u003cp\u003eこの記事は\u003ca href=\"https://adventar.org/calendars/6823\"\u003eCybozu Advent Calendar 2021\u003c/a\u003eの18日目の記事です（業務なので前日に出してます🍀）。\u003c/p\u003e\n\u003cp\u003eサイボウズには 10 年以上運用が続いているプロダクトがいくつかあります。フロントエンドエキスパートチームは、そんなプロダクトや開発メンバーへの支援を横断的に行うチームです。\u003c/p\u003e\n\u003cp\u003eフロントエンドエキスパートチームの今年の取り組みを紹介します。\u003c/p\u003e\n\u003ch2\u003eフロントエンドエキスパートチームの立ち位置とミッション\u003c/h2\u003e\n\u003cp\u003eフロントエンドエキスパートチームは特定のプロダクトなどに属さない、独立した横断的な支援チームです。活動内容についてはすべてチームに裁量があり、何をどうしていくかは自律的に決めて動く必要があります。\u003c/p\u003e\n\u003cp\u003eフロントエンドエキスパートチームでは「サイボウズのフロントエンドを最高にする」というミッションを掲げています。このミッションを達成するための活動を日々考えながら活動しています。\u003c/p\u003e\n\u003cp\u003e日々の活動は次の 4 つの内容を軸に行なっています。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e支援: プロダクトやチームへの支援\u003c/li\u003e\n\u003cli\u003e発信: Cybozu やメンバーのプレゼンス向上のための情報発信\u003c/li\u003e\n\u003cli\u003e啓蒙: 社内メンバーのフロントエンドの技術力向上のための啓蒙活動\u003c/li\u003e\n\u003cli\u003e探究: プロダクトの可能性を広げるための調査検証\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれら 4 つを軸に、\u003ccode\u003e支援:5\u003c/code\u003e \u003ccode\u003e発信\u0026#x26;啓蒙:2\u003c/code\u003e \u003ccode\u003e探究:3\u003c/code\u003e の割合を目安にメンバー個々人が裁量を持って活動しています。\u003c/p\u003e\n\u003cp\u003eチームは今月で 4 歳 2 ヶ月になります。\u003c/p\u003e\n\u003ch2\u003e活動内容まとめ\u003c/h2\u003e\n\u003cp\u003e今年は大小さまざまな取り組みを行いました。次のリストはフロントエンドエキスパートチームが行なった今年の活動内容のざっくりとしたまとめです。これらの活動はチームで自発的に始めた取り組みと、相談きっかけで行なったものがあります。割合としては自発的なものが 9 割、相談きっかけが 1 割程度です。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eプロダクトのフロントエンドリアーキテクチャ支援\u003c/li\u003e\n\u003cli\u003eプロダクトのマイクロサービス化を検証\u003c/li\u003e\n\u003cli\u003eプロダクトのライブラリアップデート支援\u003c/li\u003e\n\u003cli\u003eプロダクトへのフロントエンドのテスト環境整備支援\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://cybozu.github.io/frontend-monthly/\"\u003eサイボウズフロントエンドマンスリー\u003c/a\u003eの開催\u003c/li\u003e\n\u003cli\u003e登壇\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nodejs.connpass.com/event/221358/\"\u003eNode 学園 37 時限目 オンライン\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://web-study.connpass.com/event/213676/\"\u003etc39_study\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://jsconf.jp/2021/\"\u003eJSConf JP 2021\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://cybozu.connpass.com/event/212572/\"\u003eMeetup の開催\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eOSS へのコントリビューション\u003c/li\u003e\n\u003cli\u003e社内向けフロントエンド研修の開催\u003c/li\u003e\n\u003cli\u003eフロントエンドウィークリーの開催（社内向け勉強会）\u003c/li\u003e\n\u003cli\u003eエンジニアインターンの開催\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.cybozu.io/search?q=%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%82%A8%E3%82%AD%E3%82%B9%E3%83%91%E3%83%BC%E3%83%88\"\u003eエンジニアブログへの記事投稿\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://cybozu.github.io/frontend-expert/posts\"\u003eチームの web サイトへの記事投稿\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eデザインシステムの探究\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eプロダクトの現状を見て、プロダクトや会社の今後の方向性などを加味した上で、取り組みの内容や注力する割合をコントロールしています。\u003c/p\u003e\n\u003cp\u003eその中からいくつかをピックアップして詳細を紹介します。\u003c/p\u003e\n\u003ch2\u003eプロダクトのフロントエンドリアーキテクチャをプロジェクト化するまで\u003c/h2\u003e\n\u003cp\u003eサイボウズでは現在、kinotne のフロントエンドのリアーキテクチャプロジェクトが進行中です。kintone の脱レガシーの取り組み自体は 2019 年ごろから開始されていましたが、1 つのプロジェクトとして動くようになったのは今年からです。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://blog.cybozu.io/entry/2021/07/20/170000\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003ch3\u003e少数チームでやれることに限界を感じた\u003c/h3\u003e\n\u003cp\u003eリアーキテクチャがプロジェクトになる前、kintone の脱レガシーはもともとフロントエンドエキスパートチームが主導・先行する形で調査検討を行っていました。Closure Tools というフレームワークに依存している現状に対して、脱 Closure Tools のロードマップを作成したり、Closure Tools を使い続けた場合の影響と今後の見通しについて社内各所に警鐘を鳴らすとともに、別のフレームワークへの置き換え方法についての PoC などを行なっていました。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://blog.cybozu.io/entry/2020/04/07/110126\"\u003eフロントエンドの開発体験向上と脱レガシー\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.cybozu.io/entry/about-clutz\"\u003eClosure Library から TypeScript の型定義を生成する\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.cybozu.io/entry/2020/06/25/105457\"\u003estyled-components の採用と既存資産を捨てた理由\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eそこから kintone の開発メンバーの一部とともに少しずつ React への置き換えを進めるようになりましたが、リソース的にできる範囲とスピードに課題感を抱えており、このままでは 5 年かかっても完了しないのではないかという不安がありました。\u003c/p\u003e\n\u003cp\u003eこの不安をどうやれば解消できるか、どうすればスピードアップできるかをチーム内で定期的に議論していろんな案を考えていました。\u003c/p\u003e\n\u003ch3\u003eプロダクトの課題を組織の課題にする\u003c/h3\u003e\n\u003cp\u003ekintone はサイボウズにとって大事なプロダクトで、そのプロダクトの内部の経年劣化は間違いなく組織にとっても課題です。10 年以上使い続けているフレームワークによる開発は限界に近づいてきていますが、この課題に対しての温度感がフロントエンドエキスパートとその他で大きな差がありました。\u003c/p\u003e\n\u003cp\u003eプロダクト側からすると新規機能の開発やバグ修正などの優先度が高くなりがちなので、脱レガシーにリソースを注力すると決めるのは難しいことだと理解はできます。また、プロダクトより上の層（サイボウズでは本部長などの経営に近い層）からするとゆっくりながらも進んでいるという事実からか、そこまで危機感は持っていないように感じられました。\u003c/p\u003e\n\u003cp\u003eそんな状況もあり、フロントエンドエキスパートチームとしては脱レガシーを組織の課題として、トップダウン的な動きで会社として注力する形でやっていきたいと考えました。しかしながらことはそう簡単ではなく、サイボウズは上長やマネージャーがいないという組織構造から、そういった大きな活動を起こすのに気力とコストを大いに必要としました。（現在この課題に対していろいろなトライを実施しており、解消に向かって進んでいます）\u003c/p\u003e\n\u003cp\u003eフロントエンドエキスパートチームからの問題提起を根気強く続けながら、プロダクトのメンバーや本部長を交えてどういったチーム構成でどうリリースまで持っていくかなどさまざまな議論を重ねました。その結果、リアーキテクチャプロジェクトとして発足するに至り、組織の課題として取り組める状況まで持っていくことができました。\u003c/p\u003e\n\u003ch2\u003e横断的な支援チームで難しいと感じるところ\u003c/h2\u003e\n\u003cp\u003e支援チームで活動していく上で何度か感じた難しいところがあります。それは、外側からの働きかけだけではやれることが多くないということです。外側からいくら熱心に働きかけても支援先のプロダクトなりチームなりが自分ごととして動いてくれない限りは、その場限りの活動になりがちで支援の効果も一時的なものになってしまいます。\u003c/p\u003e\n\u003cp\u003eこういった実感からフロントエンドエキスパートチームでは、短中期で支援先の内部に入って活動するという方法を取ることが多くなりました。その場限りの支援にならないように仕組みを整えたり、初期段階のブースター役としてがっちりプロダクトチームに寄り添そうような形で支援できるように心がけています。支援したい対象はいくつもありますが、焦らずに 1 つずつ集中して解決していくのが支援チームとしてうまく動いていくのには重要だと思います。\u003c/p\u003e\n\u003cp\u003eまた、支援が一方的な押し付けにならないように、関わるメンバーにその支援活動の意味や意義を共感してもらうことに対して手を抜かないことも大事だと感じています。\u003c/p\u003e\n\u003ch2\u003e継続的な社内啓蒙と社外発信\u003c/h2\u003e\n\u003cp\u003e啓蒙・発信をチームの取り組みとして行なっています。社内勉強会として Frontend Weekly を、社外イベントとして Cybozu Frontend Monthly を継続して開催しています。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://cybozu.github.io/frontend-expert/posts/frontendWeekly-And-Monthly\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003eどちらも意識しているのは開催のコストを下げることです。司会を交代制にしたり、録画での開催を試したりと、常にコストを下げる工夫を行なっています。その結果、Frontend Weekly は 5 周年、Cybozu Frontend Monthly は 17 ヶ月連続で開催しています。\u003c/p\u003e\n\u003cp\u003eCybozu Frontend Monthly は多くの人に視聴してもらえており、中途入社のきっかけになったり、学生への認知向上といった効果も出ています。これからも無理しない範囲で続けていければと思います。\u003c/p\u003e\n\u003ch3\u003e社外発信のコストと心理的障壁を減らす\u003c/h3\u003e\n\u003cp\u003e今年はフロントエンドエキスパートチームの web サイト(このサイト)を作成して、そこでの情報発信をはじめました。サイボウズの技術ブログは他にもありますが、あちらはプロダクトでの知見を共有する場という側面が強かったり、ちゃんとしたものをそこそこのボリュームで出さなければという意識が働くといった意見がチーム内で出たりと、若干のハードルを感じる場所になっています。\u003c/p\u003e\n\u003cp\u003eチームの web サイトであれば、フロントエンドの情報に偏っていても問題なく、プロダクトに依存しない内容を気軽に発信できる場所として機能すると考えました。\u003c/p\u003e\n\u003cp\u003e記事の執筆は一見コストが高そうですが、フロントエンドエキスパートチームではもともと社内 SNS(kintone)に web の最新情報などを共有する活動を行なっていました。この情報を外向けに少し整える手間さえかければアウトプットが行えるので、記事作成のコストが低めで継続が見込めます。\u003c/p\u003e\n\u003cp\u003e今年の 10 月にサイトを開設してから 3 ヶ月で記事を 10 本投稿できていることから、今の所うまくいっているように思います。\u003c/p\u003e\n\u003ch2\u003eおわりに\u003c/h2\u003e\n\u003cp\u003e2021 年はフロントエンドエキスパートチームとして存在感と価値を発揮できた年だと感じています。地道な草の根活動からプロジェクト化へこぎつけたり、継続的な発信が行えていたりと、エキスパートチームらしい働きができたのかなと思います。\u003c/p\u003e\n\u003cp\u003eフロントエンドエキスパートチームの活動はチームメンバーだけでなく、プロダクトチームなどの協力があってこその活動も多いです。来年も関係各所と連携を取りつつ、着々と成果が出せるように取り組んで行きたいと思います。\u003c/p\u003e\n\u003cp\u003eフロントエンドの横断的支援チーム、フロントエンドのリアーキテクチャなどに興味がある方はカジュアル面談からでもぜひお願いします。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://meety.net/matches/TgEdHofmrGjd\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://meety.net/matches/arWAMFBPtzsm\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://meety.net/matches/phQxpBZQLDBO\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e応募もお待ちしております。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://cybozu.co.jp/company/job/recruitment/list/front_end_expert.html\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"hatena-link\"\u003e\u003ciframe class=\"hatena-link-frame\" src=\"https://hatenablog-parts.com/embed?url=https://cybozu.co.jp/company/job/recruitment/list/front_end_engineer_kintone.html\" style=\"border: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/p\u003e\n","metaData":{"title":"長期運用プロダクトを抱える組織で横断的なフロントエンド支援チームが1年で行なったこと","author":"nakajmg","createdAt":"2021-12-18","summary":"サイボウズのフロントエンドエキスパートチームの2021年の活動内容を紹介します。","tags":["Cybozu","FrontendExpert"],"updatedAt":"2021-12-18"}},{"slug":"eyedropper-api","content":"\u003cp\u003e\u003ca href=\"https://developer.chrome.com/blog/new-in-chrome-95/\"\u003eChrome 95 がリリース\u003c/a\u003eされ、新機能として EyeDropper API が追加されました。(Edge 95 にも追加されました)\u003c/p\u003e\n\u003ch2\u003eEyeDropper API とは\u003c/h2\u003e\n\u003cp\u003eEyeDropper API は画面上から色情報を取得するスポイトツールをブラウザ上で実現する API です。スポイトツールはデザインツールなどに搭載されていることが多いかと思います。\nChrome の DevTools にも色選択をするときにスポイトアイコンをクリックするとスポイトツールが使えますが、この機能が単体の Web API として実装された形になります。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/frontend-expert/image/eyedropper-api/eyedropper.png\" alt=\"DevToolsのカラーピッカー\" width=\"687\" height=\"307\" \u003e\u003c/p\u003e\n\u003ch2\u003e使い方\u003c/h2\u003e\n\u003cp\u003eEyeDropper API の使い方は次のようになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e eyeDropper \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEyeDropper\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e result \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e eyeDropper\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eopen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eresult\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// {sRGBHex: '#92d0e1'}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eEyeDropper\u003c/code\u003eのインスタンスで\u003ccode\u003eopen\u003c/code\u003eを実行すると色選択の UI が表示されます。\u003c/p\u003e\n\u003ch3\u003eセキュリティ上の制約\u003c/h3\u003e\n\u003cp\u003eEyeDropper API の \u003ccode\u003eopen\u003c/code\u003e はユーザーの操作なしに実行するとエラーになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eDOMException: Failed to execute \u0026#x26;#39;open\u0026#x26;#39; on \u0026#x26;#39;EyeDropper\u0026#x26;#39;: EyeDropper::open() requires user gesture.\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eこれはプライバシーやセキュリティを考慮しての制限になります。\u003ccode\u003eopen\u003c/code\u003eはユーザーの操作によってのみスポイトモードに移行し、ユーザーがクリックしたときのみ色の値を返します。\nこれによって悪意のあるサイトがユーザーの画面のピクセル情報を勝手に取得できないようになっています。\u003c/p\u003e\n\u003ch3\u003econsole からは起動できる\u003c/h3\u003e\n\u003cp\u003eユーザーの操作なしに起動できない API ですが、DevTools の console からはその限りではありません。次のワンライナーのコードを console で実行するとスポイトツールを起動できます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEyeDropper\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eopen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e覚えておくと便利かもしれません。\u003c/p\u003e\n\u003cp\u003eちなみにですが、Snippets からは起動できませんでした。\u003c/p\u003e\n\u003ch2\u003eEyeDropper API を使ったデモサイト\u003c/h2\u003e\n\u003cp\u003eEyeDropper API のデモサイトの紹介です。こちらのデモでは EyeDropper API を使った色選択ゲームが遊べます。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://captainbrosset.github.io/eyedropper-demos/color-game.html\"\u003eeyedropper-demos/color-game\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ePlay ボタンをクリックするとカウントダウンが開始されます。時間内に左のマスに表示された色と同じ色を選択すると勝ちです。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/frontend-expert/image/eyedropper-api/demo.png\" alt=\"EyeDropper APIのデモ\" width=\"704\" height=\"491\" \u003e\u003c/p\u003e\n\u003cp\u003e一部ブラウザでは \u003ccode\u003einput\u003c/code\u003eタグで\u003ccode\u003etype=\"color\"\u003c/code\u003eとすることで似たようなピッカーを使用できましたが、UI なしに実行できるようになったことでいろいろな使い道が考えられそうですね。\u003c/p\u003e\n\u003ch2\u003e参考リンク\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://wicg.github.io/eyedropper-api/\"\u003ehttps://wicg.github.io/eyedropper-api/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://web.dev/eyedropper/\"\u003ehttps://web.dev/eyedropper/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","metaData":{"title":"Chrome 95 で追加された画面上の色を取得するEyeDropper APIについて","author":"nakajmg","createdAt":"2021-11-02","summary":"Chromiumベースのブラウザーに追加されたEyeDropper APIについて紹介します","tags":["Web API","Browser"],"updatedAt":"2021-11-02"}}]},"__N_SSG":true},"page":"/members/[name]","query":{"name":"nakajmg"},"buildId":"BAwqWviZHwHcbKXpHdw_Z","assetPrefix":"/frontend-expert","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>