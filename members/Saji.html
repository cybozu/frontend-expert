<!DOCTYPE html><html lang="ja"><head><title>Saji | サイボウズ フロントエンドエキスパートチーム</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><link rel="icon" type="image/png" sizes="32x32" href="/frontend-expert/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/frontend-expert/icons/favicon-16x16.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Saji | サイボウズ フロントエンドエキスパートチーム"/><meta name="twitter:description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><meta name="twitter:image " content="https://cybozu.github.io/frontend-expert/ogp/ogp.jpg"/><meta property="og:type" content="article"/><meta property="og:title" content="Saji | サイボウズ フロントエンドエキスパートチーム"/><meta property="og:site_name" content="サイボウズ フロントエンドエキスパートチーム"/><meta property="og:description" content="サイボウズ フロントエンドエキスパートチームのウェブサイトです"/><meta property="og:image" content="https://cybozu.github.io/frontend-expert/ogp/ogp.jpg"/><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/frontend-expert/feeds/atom.xml"/><meta name="next-head-count" content="16"/><link rel="preload" href="/frontend-expert/_next/static/css/76ea63cd4865a048.css" as="style"/><link rel="stylesheet" href="/frontend-expert/_next/static/css/76ea63cd4865a048.css" data-n-g=""/><link rel="preload" href="/frontend-expert/_next/static/css/167b2548c0061980.css" as="style"/><link rel="stylesheet" href="/frontend-expert/_next/static/css/167b2548c0061980.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/frontend-expert/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/frontend-expert/_next/static/chunks/webpack-729603c643508a46.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/framework-46c1838cec3c6950.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/main-d8805e7f2054e339.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/_app-ab65071b83dd12b3.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/247-11af9d0831f37191.js" defer=""></script><script src="/frontend-expert/_next/static/chunks/pages/members/%5Bname%5D-9da81b2cc6f07ad5.js" defer=""></script><script src="/frontend-expert/_next/static/d-5e12U8GTfsQLYIjh5yz/_buildManifest.js" defer=""></script><script src="/frontend-expert/_next/static/d-5e12U8GTfsQLYIjh5yz/_ssgManifest.js" defer=""></script><script src="/frontend-expert/_next/static/d-5e12U8GTfsQLYIjh5yz/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_layout__3Ma1v"><header class="Header_header__91Nua"><div class="Header_content__JIbnm"><h1><a href="/frontend-expert"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9Ijc4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIvPg=="/></span><img alt="Frontend Expert Team Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Frontend Expert Team Logo" src="/frontend-expert/logo.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></h1><nav class="Header_navigation__2pqVF"><ul><li><a href="/frontend-expert/members">Members</a></li><li><a href="/frontend-expert/posts">Posts</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/list/front_end_expert.html" target="_blank" rel="noopener noreferrer">Recruiting</a></li></ul></nav></div></header><main class="Layout_main__3t9q9"><div class="Layout_content__2clJn"><div class="member_member__2D-qA"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Saji" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Saji" src="/frontend-expert//member-icons/saji.jpg" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span><h1 class="member_memberName__3YKSY">Saji</h1><ul class="member_links__pW2oq"><li><a href="https://twitter.com/sajikix">Twitter</a></li><li><a href="https://github.com/sajikix">GitHub</a></li></ul></div><div class="member_posts__3oAkN"><div><div class="Posts_postItem__3hs9O"><a href="/frontend-expert/posts/release-chrome-97">2022-01-21 Web Transportのサポートなど、Chrome 97 リリースノートまとめ</a></div><div class="Posts_postItem__3hs9O"><a href="/frontend-expert/posts/release-chrome-96">2021-12-02 Chrome 96 リリースノートまとめ</a></div></div></div></div></main><footer class="Footer_footer__2epqf"><div class="Footer_content__3ovcH"><ul><li><a href="https://cybozu.co.jp/">サイボウズ 企業情報</a></li><li><a href="https://www.cybozu.com/jp/">cybozu.com</a></li><li><a href="https://blog.cybozu.io/">サイボウズエンジニアのブログ Cybozu Inside Out</a></li><li><a href="https://tech.cybozu.io/">Cybozu Tech</a></li><li><a href="https://cybozu.co.jp/company/job/recruitment/">採用情報</a></li></ul><small>Copyright © Cybozu, Inc.</small></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"member":{"name":"Saji","twitterId":"sajikix","githubUsername":"sajikix","active":true},"posts":[{"slug":"release-chrome-97","content":"\u003cp\u003eChrome 97 のリリースノート関連の情報をまとめました。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/new-in-chrome-97/\"\u003ehttps://developer.chrome.com/blog/new-in-chrome-97/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/new-in-devtools-97/\"\u003ehttps://developer.chrome.com/blog/new-in-devtools-97/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/deps-rems-97/\"\u003ehttps://developer.chrome.com/blog/deps-rems-97/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.chromestatus.com/features#milestone%3D97\"\u003ehttps://www.chromestatus.com/features#milestone%3D97\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://v8.dev/blog/v8-release-97\"\u003ehttps://v8.dev/blog/v8-release-97\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eNew In Chrome (Chrome 97)\u003c/h2\u003e\n\u003cp\u003eChrome97 で新しく追加された機能です。\u003c/p\u003e\n\u003ch3\u003eWeb Transport\u003c/h3\u003e\n\u003cp\u003eサーバーとクライアントの双方向リアルタイム通信を実現する新しいフレームワークとして提案されている\u003ccode\u003eWeb Transport\u003c/code\u003eが正式にサポートされました。\u003c/p\u003e\n\u003cp\u003eWeb Transport は既存の代表的手法である\u003ccode\u003eWeb Sockets\u003c/code\u003eや\u003ccode\u003eWebRTC\u003c/code\u003eと比べ以下のような利点を持っています。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eWebSockets\u003c/code\u003eよりも低遅延な通信を実現する\u003c/li\u003e\n\u003cli\u003eP2P メッセージング用に設計された\u003ccode\u003eWebRTC\u003c/code\u003eと違い、クライアントサーバーメッセージングを前提として設計されているため扱いやすい\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWeb Transport では\u003ccode\u003estreams API\u003c/code\u003eと\u003ccode\u003edatagram API\u003c/code\u003eという２種類の通信 API がサポートされており、それぞれ以下のような特徴から使い分けることができます。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003estreams API : 信頼性の高い順序付けられたデータ送信に最適\u003c/li\u003e\n\u003cli\u003edatagram API : 信頼性や順序がそこまで求められず、より低遅延でベストエフォートなデータ送信に最適\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e注意点として、Web Transport を試すためには\u003ccode\u003eHTTP/3\u003c/code\u003eをサポートしたサーバーが必要となります。\u003c/p\u003e\n\u003cp\u003eWeb Transport は以下のような形で簡単に利用することができます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e url \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'https://example.com:4999/foo/bar'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e transport \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eWebTransport\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eurl\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// WebTransportインスタンス生成\u003c/span\u003e\n\u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e transport\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eready\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 接続を待つ\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e writer \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e transport\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edatagrams\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ewritable\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetWriter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e data1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eUint8Array\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e65\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e66\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e67\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\nwriter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewrite\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edata1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e詳しくは\u003ca href=\"https://web.dev/webtransport/\"\u003eExperimenting with WebTransport\u003c/a\u003eを参照しててください。\u003c/p\u003e\n\u003ch3\u003eScript type feature detection\u003c/h3\u003e\n\u003cp\u003eブラウザ側で\u003ccode\u003eES Modules\u003c/code\u003eの対応状況を判別する方法として今まで\u003ccode\u003enomodule\u003c/code\u003e属性がありましたが、\u003ccode\u003eimport maps\u003c/code\u003e, \u003ccode\u003especulation rules\u003c/code\u003e,\u003ccode\u003ebundle preloading\u003c/code\u003eなどの新しく提案されている仕様には対応しきれていませんでした。\u003c/p\u003e\n\u003cp\u003e今回サポートされた\u003ccode\u003eHTMLScriptElement.supports()\u003c/code\u003eを利用することで以下のように JavaScript側でscriptがどの仕様に対応しているかのチェックをすることができるようになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eHTMLScriptElement\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esupports\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'importmap'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Use \u0026#x3C;script type=\"importmap\" ...\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eHTMLScriptElement\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esupports\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'module'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Use \u0026#x3C;script type=\"module\" ...\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Use classic method...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eNew array prototypes\u003c/h3\u003e\n\u003cp\u003eArray と TypedArray で\u003ccode\u003efindLast()\u003c/code\u003eと\u003ccode\u003efindLastIndex()\u003c/code\u003eが使えるようになりました。\nこの二つの関数は引数で渡された条件に合致する配列内の\u003cstrong\u003e最後の要素\u003c/strong\u003eの値、位置をそれぞれ返します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e array \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e12\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e130\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e44\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e last \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e array\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003efindLast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e value \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elast\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 44\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e lastIndex \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e array\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003efindLastIndex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e value \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elastIndex\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 4\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eEmulate Chrome 100 in the UA string\u003c/h3\u003e\n\u003cp\u003eあと数ヶ月で Chrome のバージョンは 3 桁となる 100 に到達します。\nバージョンや UA 文字列をパースするコードがある場合は 3 桁でも動くかどうか確認しましょう。\u003c/p\u003e\n\u003cp\u003e現在のバージョンを 100 にする\u003ca href=\"https://developer.chrome.com/blog/force-major-version-to-100/\"\u003e#force-major-version-to-100\u003c/a\u003eフラグを使って、既存のコードが正しく動くか確認することができます。\u003c/p\u003e\n\u003ch3\u003eAnd more!\u003c/h3\u003e\n\u003cp\u003e上記以外のようなアップデートがあります。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eフォーム入力の改行が Gecko や WebKit と同じ方法で正規化されるようになりました。\n\u003cul\u003e\n\u003cli\u003eこれによりブラウザ間の相互運用性が向上しました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eclient hint\u003c/code\u003eのプレフィクスを\u003ccode\u003esec-ch\u003c/code\u003eにするように標準化を進めています。\n\u003cul\u003e\n\u003cli\u003e例えば\u003ccode\u003edpr\u003c/code\u003eは\u003ccode\u003esec-ch-dpr\u003c/code\u003eのようになります。\u003c/li\u003e\n\u003cli\u003e以前の仕様も当分の間サポートを続けますが、いずれは非推奨となり削除されることを想定しましょう。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e閉じている\u003ccode\u003e\u0026#x3C;detail\u003e\u003c/code\u003e要素が検索可能になり、閉じている\u003ccode\u003e\u0026#x3C;detail\u003e\u003c/code\u003e要素内の element にスクロールしようとした際は閉じられている\u003ccode\u003e\u0026#x3C;detail\u003e\u003c/code\u003e要素を自動的に開くようになりました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eWhat's New In DevTools (Chrome 97)\u003c/h3\u003e\n\u003cp\u003eDevTools についてはこちらの日本語訳を参照ください。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://developer.chrome.com/ja/blog/new-in-devtools-97/\"\u003ehttps://developer.chrome.com/ja/blog/new-in-devtools-97/\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eDeprecations and removals in Chrome 97\u003c/h3\u003e\n\u003cp\u003eChrome97 で非推奨になったもの、もしくは削除されたものです\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://developer.chrome.com/blog/deps-rems-97/\"\u003ehttps://developer.chrome.com/blog/deps-rems-97/\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eRemove SDES key exchange for WebRTC\u003c/h3\u003e\n\u003cp\u003eWebRTC の SDES 鍵交換の仕様は 2013 年以降、関連する IETF の標準仕様では MUST NOT となっており、近年では Chrome での使用率も大幅に低下しているので Chrome97 で廃止されました。\u003c/p\u003e\n\u003cp\u003e参考:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://webrtc-security.github.io/report_ja/\"\u003ehttps://webrtc-security.github.io/report_ja/\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eRemove WebSQL in third-party contexts\u003c/h3\u003e\n\u003cp\u003eサードパーティ製の WebSQL が廃止されました。W3C では代わりに Web Storage と Indexed Database を推奨しています。\u003c/p\u003e\n\u003ch3\u003eRemove SDP Plan B\u003c/h3\u003e\n\u003cp\u003eWebRTC でセッションを確立するために使用される SDP に非標準の実装であった\u003ccode\u003ePlan B\u003c/code\u003eが削除されました。\u003c/p\u003e\n\u003cp\u003e参考: SDP の Unified Plan と Plan B\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.jxck.io/entries/2018-01-05/sdp-unified-plan.html\"\u003ehttps://blog.jxck.io/entries/2018-01-05/sdp-unified-plan.html\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eその他 Chrome Platform Status に記載されていたもの\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/features#milestone%3D97\"\u003ehttps://www.chromestatus.com/features#milestone%3D97\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eFeature policy for Keyboard API\u003c/h3\u003e\n\u003cp\u003e各言語に対応した keybord レイアウト情報を返す\u003ccode\u003egetLayoutMap()\u003c/code\u003eメソッドは全てのコンテキスト(iframe 内など)では利用できないという問題点がありました。今回のアップデートで iframe の allow 属性に\u003ccode\u003ekeyboard-map\u003c/code\u003eを追加することでこの問題を解決することができるようになりました。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://chromestatus.com/features/5657965899022336\"\u003ehttps://chromestatus.com/features/5657965899022336\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003e\u003ccode\u003ePermissionStatus.prototype.name\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003ePermissionStatus\u003c/code\u003e インターフェースに読み取り専用の属性 \u003ccode\u003e\"name\"\u003c/code\u003e を追加し、\u003ccode\u003ePermissionStatus\u003c/code\u003e が作成された後、パーミッションの名前が取得できるようになりました。\u003c/p\u003e\n\u003cp\u003e今までは\u003ccode\u003ePermissions API\u003c/code\u003e を使って複数のパーミッションを同時に問い合わせた際、どの PermissionStatus がどのパーミッションに対応しているのかを識別する方法がありませんでした。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://chromestatus.com/features/5651653697994752\"\u003ehttps://chromestatus.com/features/5651653697994752\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003ePropagate request origin and redirect chain in passthrough service workers.\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003efetch(evt.request)\u003c/code\u003eメソッドで navigation requests を発行する ServiceWorker が\u003ccode\u003eFetchEvent.request\u003c/code\u003e からのオリジンとリダイレクトチェーンを使用するようになります。\u003c/p\u003e\n\u003cp\u003e今までは常に ServiceWorker のオリジンが設定され、リダイレクトチェーンを使用することはありませんでした。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://chromestatus.com/features/5752539724120064\"\u003ehttps://chromestatus.com/features/5752539724120064\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eSupport calc(\u003ccode\u003e\u0026#x3C;number\u003e\u003c/code\u003e) where only accepts \u003ccode\u003e\u0026#x3C;integer\u003e\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://cybozu.github.io/frontend-expert/posts/release-chrome-96\"\u003eChrome 96 リリースノートまとめ\u003c/a\u003eにも記載したものが、Chrome97 で追加されました。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ecss の calc()関数で integer しか受け取らないような場所でも number を指定できるようになりました。 もっとも近い整数に丸められます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca href=\"https://chromestatus.com/features/5656451751084032\"\u003ehttps://chromestatus.com/features/5656451751084032\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003etransform: perspective(none)\u003c/h3\u003e\n\u003cp\u003eCSS transform プロパティ内で利用できる、\u003ccode\u003eperspective()\u003c/code\u003e関数への引数として'none'を実装としてサポートしました。\u003ccode\u003eperspective(0)\u003c/code\u003eと\u003ccode\u003eperspective(none)\u003c/code\u003eでは挙動が変わるため、変形をしないことを意図する場合(単位行列として扱いたい場合)は\u003ccode\u003eperspective(none)\u003c/code\u003eを利用するようにしましょう。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://chromestatus.com/features/5687325523705856\"\u003ehttps://chromestatus.com/features/5687325523705856\u003c/a\u003e\u003c/p\u003e\n","metaData":{"title":"Web Transportのサポートなど、Chrome 97 リリースノートまとめ","author":"Saji","editor":"nus3","createdAt":"2022-01-21","summary":"Chrome 97 のリリースノートの要約です","tags":["Releasenote","Browser"],"updatedAt":"2022-01-21"}},{"slug":"release-chrome-96","content":"\u003cp\u003eChrome 96 のリリースノート関連の情報をまとめました。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/new-in-chrome-96/\"\u003ehttps://developer.chrome.com/blog/new-in-chrome-96/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/new-in-devtools-96/\"\u003ehttps://developer.chrome.com/blog/new-in-devtools-96/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/deps-rems-96/\"\u003ehttps://developer.chrome.com/blog/deps-rems-96/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.chromestatus.com/features#milestone%3D96\"\u003ehttps://www.chromestatus.com/features#milestone%3D96\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://v8.dev/blog/v8-release-96\"\u003ehttps://v8.dev/blog/v8-release-96\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eNew In Chrome (Chrome 96)\u003c/h2\u003e\n\u003cp\u003eChrome 96で新しく追加された機能です。\u003c/p\u003e\n\u003ch3\u003eManifest id for PWAs\u003c/h3\u003e\n\u003cp\u003e今まではPWAをインストールする際、ブラウザ側でPWAを一意に識別するための明確な方法が存在しておらず、ブラウザの判断に委ねられていました。(実際ブラウザによってPWAマニフェストファイルの\u003ccode\u003estart_url\u003c/code\u003eが利用されていたり、マニフェストファイル自体のパスなどが利用されたりしています)\u003c/p\u003e\n\u003cp\u003e今回のアップデートにより、マニフェストファイル内でPWAの識別子を\u003ccode\u003eid\u003c/code\u003eプロパティとして明示的に定義できるようになりました。\u003c/p\u003e\n\u003cp\u003eマニフェストに\u003ccode\u003eid\u003c/code\u003eプロパティを追加すると、マニフェストファイルの\u003ccode\u003estart_url\u003c/code\u003eプロパティやマニフェストファイル場所へ依存がなくなり、これらのフィールドを更新することが容易になります。\u003c/p\u003e\n\u003ch4\u003eサポート状況と予定\u003c/h4\u003e\n\u003cp\u003eデスクトップのChromium搭載ブラウザ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eChrome 96からidプロパティがサポートされます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eモバイルブラウザ(マニフェストファイルのURLをユニークIDとして使用しているもの)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e2022年前半にサポートが開始される予定です。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003eidプロパティの追加について\u003c/h4\u003e\n\u003cp\u003eすでに運用しているPWAのマニフェストファイルにidを追加する場合\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eブラウザから割り当てられたIDを使用する必要があります。\u003c/li\u003e\n\u003cli\u003e割り当てられているID は、Dev Tools の \u003ccode\u003eApplication\u003c/code\u003e パネルの \u003ccode\u003eManifest\u003c/code\u003e ペインで確認できます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e新しくPWAを作成する場合\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eidプロパティに好きな文字列を設定することができますが、将来的に変更することはできないので慎重に選んでください。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eURL protocol handlers for PWAs\u003c/h3\u003e\n\u003cp\u003e今までwebページで利用可能だった\u003ccode\u003eURL protocol handler\u003c/code\u003eの登録がChrome 96からはPWAでもインストール時に行えるようになりました。\u003c/p\u003e\n\u003cp\u003ePWAの場合は以下のように\u003ccode\u003eprotocol_handlers\u003c/code\u003eプロパティをマニフェストファイルに記載することで登録できます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  ...\n  \u003cspan class=\"token property\"\u003e\"protocol_handlers\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"protocol\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"web+tea\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/tea?type=%s\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"protocol\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"web+coffee\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/coffee?type=%s\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eそれぞれ、\u003ccode\u003eprotocol\u003c/code\u003eには登録したいプロトコル名を、\u003ccode\u003eurl\u003c/code\u003eにはそのプロトコルのURLをクリックしたときに開いてほしいURLを指定します。ただし、これらのプロトコル登録にはいくつかの制限があります。詳細や登録方法などは\u003ca href=\"https://web.dev/url-protocol-handler/\"\u003eこちら\u003c/a\u003eを参照してください。\u003c/p\u003e\n\u003ch3\u003ePriority hints (origin trial)\u003c/h3\u003e\n\u003cp\u003eブラウザがページ内リソース(\u003ccode\u003eimage\u003c/code\u003e,\u003ccode\u003escript\u003c/code\u003e,\u003ccode\u003eCSS\u003c/code\u003e)を読み込む際の優先度ヒントを追加できる機能がOrigin Trialsとして実験的に利用できるようになりました。\u003c/p\u003e\n\u003cp\u003e具体的には以下のような形で対象となるリソースに\u003ccode\u003eimportance\u003c/code\u003e属性で優先度(\u003ccode\u003ehigh\u003c/code\u003e,\u003ccode\u003elow\u003c/code\u003e,\u003ccode\u003eauto\u003c/code\u003eから選択)を指定します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- We don't want a high priority for this above-the-fold image --\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eimg\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrc\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e/not-important.svg\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eimportance\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003elow\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- Initiate an early fetch for a resource, but de-prioritize it --\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003elink\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003erel\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003epreload\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e/script.js\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eas\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003escript\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eimportance\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003elow\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token script\"\u003e\u003cspan class=\"token language-javascript\"\u003e\n  \u003cspan class=\"token function\"\u003efetch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'https://example.com/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eimportance\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'high'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003edata\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// Trigger a high priority fetch\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e今回のリリースノートでは Google Flights ページで、\u003ccode\u003ePriority hitns\u003c/code\u003e の有無におけるLCP(最大視覚コンテンツの表示時間)の比較を行った結果を紹介しています。この比較では背景画像の\u003ccode\u003eimg\u003c/code\u003eタグに対して\u003ccode\u003eimportance=\"high\"\u003c/code\u003eを指定することでLCPが 2.6s から 1.9s に向上したとしています。\u003c/p\u003e\n\u003cp\u003e機能詳細やOrigin Trialとして登録する方法、サンプルなどについては\u003ca href=\"https://web.dev/priority-hints/\"\u003eOptimizing resource loading with Priority Hints\u003c/a\u003eを参考にしてください。\u003c/p\u003e\n\u003ch3\u003eEmulate Chrome 100 in the UA string\u003c/h3\u003e\n\u003cp\u003e来年の早い段階でChromeはバージョン100がリリースされる予定であり、これ以降３桁のバージョン番号に突入します。そのため、バージョン番号を利用しているコードや\u003ccode\u003eUserAgent\u003c/code\u003eをパースしているコードが３桁のバージョン番号でも正しく動作することを保証する必要があります。\u003c/p\u003e\n\u003cp\u003eこれらを検証するためChrome 96では\u003ccode\u003e#force-major-version-to-100\u003c/code\u003eというフラグが追加されました。このフラグを有効にするとChromeのバージョンだけが100になった状態をシミュレートすることができ、バージョン番号を扱う動作に問題がないかの検証を行うことができます。\u003c/p\u003e\n\u003cp\u003e詳しくは \u003ca href=\"https://developer.chrome.com/blog/force-major-version-to-100/\"\u003eForce Chrome major version to 100 in the User-Agent string.\u003c/a\u003e を参照してください。\u003c/p\u003e\n\u003ch3\u003eChrome Dev Summit\u003c/h3\u003e\n\u003cp\u003eChrome Dev Summitにおけるすべての動画やコンテンツはオンラインで視聴可能です。詳しくは \u003ca href=\"https://developer.chrome.com/devsummit/\"\u003eChrome Dev Summit site\u003c/a\u003e をご覧ください。またkeynoteや配信を見逃した方はChrome Developers YouTube Channelの \u003ca href=\"https://www.youtube.com/playlist?list=PLNYkxOF6rcIBju4hD9ed1pt6YO20LgLWg\"\u003eCDS Playlist\u003c/a\u003e を合わせて参照してください。\u003c/p\u003e\n\u003ch3\u003eその他\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eBack/forward cache\u003c/code\u003eの機能が\u003ccode\u003estable\u003c/code\u003eになりました。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eこれによりFireFoxやSafariと挙動を揃えることができるようになりました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eWhat's New In DevTools (Chrome 96)\u003c/h2\u003e\n\u003cp\u003eDevTools についてはこちらの日本語訳を参照ください。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://developer.chrome.com/ja/blog/new-in-devtools-96/\"\u003ehttps://developer.chrome.com/ja/blog/new-in-devtools-96/\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eDeprecations and removals in Chrome 96\u003c/h2\u003e\n\u003cp\u003eChrome96で非推奨になったもの、もしくは削除されたものです\u003cbr\u003e\n\u003ca href=\"https://developer.chrome.com/blog/deps-rems-96/\"\u003ehttps://developer.chrome.com/blog/deps-rems-96/\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eThe \"basic-card\" method of PaymentRequest API\u003c/h3\u003e\n\u003cp\u003ePaymentRequestを呼び出すときに指定できる\u003ccode\u003ebasic card\u003c/code\u003emethod(ブラウザで保存されているカード情報を使う方法)が非推奨になります。\u003c/p\u003e\n\u003cp\u003eChrome 96では\u003ccode\u003ebasic card\u003c/code\u003eを使っているとDevToolsのConsoleにwarningメッセージが表示されます。また、Chrome 100では利用できなくなります。\u003ccode\u003ebasic card\u003c/code\u003eを使っている場合は別のmethodに変更するように早めに対応したほうが良さそうです。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.chromium.org/2021/10/sunsetting-basic-card-payment-method-in.html\"\u003ehttps://blog.chromium.org/2021/10/sunsetting-basic-card-payment-method-in.html\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eその他Chrome Platform Statusに記載されていたもの\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/features#milestone%3D96\"\u003ehttps://www.chromestatus.com/features#milestone%3D96\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eAdding captureTimestamp and senderCaptureTimeOffset to RTCRtpContributingSource.\u003c/h3\u003e\n\u003cp\u003eWebRTC APIの一つである\u003ccode\u003eRTCRtpContributingSource\u003c/code\u003eにオーディオとビデオフレームの同期やend-to-endの遅延が測定できる\u003ccode\u003ecaptureTimestamp\u003c/code\u003eと\u003ccode\u003esenderCaptureTimeOffset\u003c/code\u003eプロパティが追加されます。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5728533701722112\"\u003ehttps://www.chromestatus.com/feature/5728533701722112\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eCSS @counter-style descriptor 'speak-as'\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e@counter-style\u003c/code\u003eを使った際にカウンターが音声形式でどのように表されるかを指定できるプロパティ\u003ccode\u003espeak-as\u003c/code\u003eが追加予定で、現状は\u003ccode\u003eIn developer trial\u003c/code\u003eで試験運用中です。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5687059677184000\"\u003ehttps://www.chromestatus.com/feature/5687059677184000\u003c/a\u003e\n\u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@counter-style/speak-as\"\u003ehttps://developer.mozilla.org/en-US/docs/Web/CSS/@counter-style/speak-as\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eClipboard: Preserve PNG metadata\u003c/h3\u003e\n\u003cp\u003eクリップボードからPNGを読み込む際にサニタイズされなくなります。\n(前まではメタデータを削除していました)\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5629962485760000\"\u003ehttps://www.chromestatus.com/feature/5629962485760000\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eCross-Origin-Embedder-Policy: credentialless\u003c/h3\u003e\n\u003cp\u003eCOEPに\u003ccode\u003ecredentialless\u003c/code\u003eが追加できるようになりました。\n\u003ccode\u003ecredentialless\u003c/code\u003eを指定するとサーバーへのリクエスト時に認証方法(CookieやAuthorizationヘッダなど)が省かれるようになります。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/4918234241302528\"\u003ehttps://www.chromestatus.com/feature/4918234241302528\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考: SharedArrayBuffer と過渡期な cross-origin isolation の話\n\u003ca href=\"https://blog.agektmr.com/2021/11/cross-origin-isolation.html\"\u003ehttps://blog.agektmr.com/2021/11/cross-origin-isolation.html\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eDisable propagation of body style to viewport when contained\u003c/h3\u003e\n\u003cp\u003eルートやbody要素に\u003ccode\u003econtain: none\u003c/code\u003e以外の値を使用するとbodyからのCSSプロパティの伝搬が無効になります。\n\u003ca href=\"https://www.chromestatus.com/feature/5663240823504896\"\u003ehttps://www.chromestatus.com/feature/5663240823504896\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eEME MediaKeySession Closed Reason\u003c/h3\u003e\n\u003cp\u003eMediaKeySessionのcloseメソッドが\u003ccode\u003eMediaKeySessionClosedReason\u003c/code\u003eを返すようになります。\nsessionが閉じられた理由(\u003ccode\u003einternal-error\u003c/code\u003e, \u003ccode\u003eclosed-by-application\u003c/code\u003eなど)を取得してハンドリングできるようになります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e keySystemAccess \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token dom variable\"\u003enavigator\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003erequestMediaKeySystemAccess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e//   ...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Create media keys.\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e mediaKeys \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e keySystemAccess\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecreateMediaKeys\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Create a key session.\u003c/span\u003e\nkeySession \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e mediaKeys\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecreateSession\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Generate a fake license request.\u003c/span\u003e\n\u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e keySession\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egenerateRequest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"webm\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eUint8Array\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\nkeySession\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eclosed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ereason\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Reason is either undefined if not supported, \"internal-error\",\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// \"closed-by-application\", \"release-acknowledged\",\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// \"hardware-context-reset\", or \"resource-evicted\".\u003c/span\u003e\n\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003eMedia key session was closed. Reason: \"\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ereason\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\".\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5632124143009792\"\u003ehttps://www.chromestatus.com/feature/5632124143009792\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考: EME MediaKeySession Closed Reason Sample\n\u003ca href=\"https://googlechrome.github.io/samples/media/key-session-closed-reason.html\"\u003ehttps://googlechrome.github.io/samples/media/key-session-closed-reason.html\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eHTTP-\u003eHTTPS redirect for HTTPS DNS records\u003c/h3\u003e\n\u003cp\u003eDNSのHTTPSレコードを従来のAレコードやAAAAレコードと一緒に照会し、解析するようになります。\nHTTPSレコードを追加し、Chromeがそれを受信するとChromeは常にそのウェブサイトにHTTPSで接続します。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5485544526053376\"\u003ehttps://www.chromestatus.com/feature/5485544526053376\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eInteractionID in EventTiming\u003c/h3\u003e\n\u003cp\u003eEvent Timing APIのPerformanceEventTimingに\u003ccode\u003einteractionId\u003c/code\u003eが追加されました。\nユーザーの操作に対して関連するイベント(たとえばユーザーがタップした時にはpointerdown→mousedown→pointerup→mouseup→clickのイベントが発生する)は\u003ccode\u003einteractionId\u003c/code\u003eが同じになります。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5674224959094784\"\u003ehttps://www.chromestatus.com/feature/5674224959094784\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eMedia Queries: prefers-contrast feature\u003c/h3\u003e\n\u003cp\u003eOSが設定している色のコントラスト設定に対応するメディアクエリ\u003ccode\u003eprefers-contrast\u003c/code\u003eが追加されました。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.contrast\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e/* ... */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@media\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token property\"\u003eprefers-contrast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e more\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.contrast\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e/* OSでコントラストの設定が高い場合に適応される */\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@media\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token property\"\u003eprefers-contrast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e less\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.contrast\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e/* OSでコントラストの設定が低い場合に適応される */\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5646323212615680\"\u003ehttps://www.chromestatus.com/feature/5646323212615680\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考: prefers-contrast(MDN)\u003cbr\u003e\n\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/CSS/@media/prefers-contrast\"\u003ehttps://developer.mozilla.org/ja/docs/Web/CSS/@media/prefers-contrast\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eSupport calc(\u003ccode\u003e\u0026#x3C;number\u003e\u003c/code\u003e) where only accepts \u003ccode\u003e\u0026#x3C;integer\u003e\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003ecssの\u003ccode\u003ecalc()\u003c/code\u003e関数でintegerしか受け取らないような場所でもnumberを指定できるようになりました。\nもっとも近い整数に丸められます。\u003c/p\u003e\n\u003cp\u003e例えば、下記はいずれも\u003ccode\u003ecolumn-count: 1\u003c/code\u003eと同義です。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.example\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolumn-count\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolumn-count\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca href=\"https://www.chromestatus.com/feature/5656451751084032\"\u003ehttps://www.chromestatus.com/feature/5656451751084032\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考:\n\u003ca href=\"https://drafts.csswg.org/css-values-4/#calc-range\"\u003ehttps://drafts.csswg.org/css-values-4/#calc-range\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eV8 release v9.6\u003c/h2\u003e\n\u003cp\u003eV8のアップデート情報です。\u003c/p\u003e\n\u003ch3\u003eWebAssembly : Reference Types\u003c/h3\u003e\n\u003cp\u003eWebWebAssemblyでプロポーザルとして提案されている\u003ca href=\"https://github.com/WebAssembly/reference-types/blob/master/proposals/reference-types/Overview.md\"\u003eReference Type\u003c/a\u003eがV8 v9.6からサポートされます。\n現状、WASMの関数は引数や戻り値に、整数や浮動小数点数といったプリミティブな型しか扱えませんが、\u003ccode\u003eReference Types\u003c/code\u003e機能はこれに加えて、JavaScriptオブジェクトへの参照を渡せるようにしたものです。\u003c/p\u003e\n","metaData":{"title":"Chrome 96 リリースノートまとめ","author":"Saji","editor":"nus3","createdAt":"2021-12-02","summary":"Chrome 96 のリリースノートの要約です","tags":["Releasenote","Browser"],"updatedAt":"2021-12-02"}}]},"__N_SSG":true},"page":"/members/[name]","query":{"name":"Saji"},"buildId":"d-5e12U8GTfsQLYIjh5yz","assetPrefix":"/frontend-expert","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>